!function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=57)}([function(e,t){e.exports=$},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(61),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t,i){var n=i(40)("wks"),a=i(45),s=i(3).Symbol,o="function"==typeof s;(e.exports=function(e){return n[e]||(n[e]=o&&s[e]||(o?s:a)("Symbol."+e))}).store=n},function(e,t){var i=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=i)},function(e,t,i){var n=i(10);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,i){e.exports=!i(22)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(3),a=i(5),s=i(16),o=i(9),r=function(e,t,i){var u,l,c,h=e&r.F,d=e&r.G,p=e&r.S,f=e&r.P,m=e&r.B,v=e&r.W,y=d?a:a[t]||(a[t]={}),g=y.prototype,_=d?n:p?n[t]:(n[t]||{}).prototype;d&&(i=t);for(u in i)(l=!h&&_&&void 0!==_[u])&&u in y||(c=l?_[u]:i[u],y[u]=d&&"function"!=typeof _[u]?i[u]:m&&l?s(c,n):v&&_[u]==c?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):f&&"function"==typeof c?s(Function.call,c):c,f&&((y.virtual||(y.virtual={}))[u]=c,e&r.R&&g&&!g[u]&&o(g,u,c)))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,r.U=64,r.R=128,e.exports=r},function(e,t,i){var n=i(12),a=i(39);e.exports=i(7)?function(e,t,i){return n.f(e,t,a(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,i){var n=i(6),a=i(70),s=i(89),o=Object.defineProperty;t.f=i(7)?Object.defineProperty:function(e,t,i){if(n(e),t=s(t,!0),n(i),a)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){"use strict";function n(e){return e.replace(/[\s']/gi,"")}function a(e){return e.replace(/[\s`~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\\/]/gi,"")}function s(e){return""===e}function o(e){return/^[a-zA-Z]+$/.test(e)}function r(e){return/^[\u4E00-\u9FA5\uF900-\uFA2D]+$/.test(e)}function u(e){return/[\u4E00-\u9FA5\uF900-\uFA2D]/.test(e)}function l(e){return/[\u4E00-\u9FA5\uF900-\uFA2D|\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]/.test(e)}function c(e){return/^[a-zA-Z\u4E00-\u9FA5\uF900-\uFA2D]+$/.test(e)}function h(e){return/^1[\d]{10}$/.test(e)}function d(e){return/^([a-zA-Z0-9]+[_\-.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_\-.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(e)}function p(e,t){var i=!1;if(Array.isArray(t)){for(var n=0,a=t.length;n<a;n+=1)if(-1!==e.indexOf(String(t[n]))){i=!0;break}}else-1!==e.indexOf(String(t))&&(i=!0);return i}function f(e){return 8===parseInt(e)||16===parseInt(e)}function m(e){return-1===[8,16,25,1,9,23,17,19,18,20,11,14,15,7,21].indexOf(parseInt(e))}function v(e){var t=e.find(".ui-input"),i=!1;return t.each(function(e,t){var n=(0,_.default)(t);return!n.hasClass("ui-input-error")||(i=!0,C.scrollToEle(n),n.find(".input-name").trigger("focus"),!1)}),i}function y(e){var t=e.find(".input-name:visible"),i=!1;return t.each(function(e,t){var n=(0,_.default)(t);return!s(n.val())||(i=!0,C.scrollToEle(n),n.trigger("focus"),!1)}),i}Object.defineProperty(t,"__esModule",{value:!0}),t.cleanName=n,t.cleanText=a,t.isEmpty=s,t.isEnglishLetters=o,t.isChineseChars=r,t.isIncludeChineseChar=u,t.isIncludeChineseChars=l,t.isChCharsOrEnLetters=c,t.isMobile=h,t.isEmail=d,t.isInclude=p,t.isElocn=f,t.isNeedPhoneEx=m,t.hasInputError=v,t.hasEmptyInput=y;var g=i(0),_=function(e){return e&&e.__esModule?e:{default:e}}(g),k=i(19),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(k)},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var n=i(14);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,a){return e.call(t,i,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){"use strict";function n(e){e.html('<div class="k-spinner">\n            <div class="k-bubble-1"></div>\n            <div class="k-bubble-2"></div>\n        </div>')}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,i){"use strict";function n(e){var t=e.offset();(0,o.default)("html, body").animate({scrollTop:t.top-20},300)}function a(e){return!e}Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToEle=n,t.isForeignOTA=a;var s=i(0),o=function(e){return e&&e.__esModule?e:{default:e}}(s)},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var n=i(10),a=i(3).document,s=n(a)&&n(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){"use strict";function n(e){var t,i;this.promise=new e(function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n}),this.resolve=a(t),this.reject=a(i)}var a=i(14);e.exports.f=function(e){return new n(e)}},function(e,t,i){var n=i(12).f,a=i(17),s=i(4)("toStringTag");e.exports=function(e,t,i){e&&!a(e=i?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},function(e,t,i){var n=i(40)("keys"),a=i(45);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n=i(72),a=i(20);e.exports=function(e){return n(a(e))}},function(e,t,i){"use strict";function n(e,t,i,n,a,s,o,r){var u={page_type:"booking_form",poi_id:parseInt(e.poi_id),ota:e.ota,ota_id:e.ota_type,room_id:e.type_id,rate_plan_id:e.room_id,room_count:parseInt(e.room_num),check_in:e.check_date_in,check_out:e.check_date_out,adults_num:parseInt(e.adult_number),children_num:parseInt(e.child_number),children_age:e.childAge.join(",")};a&&(u.operation_type=a),s&&(u.req_params=s),i&&(u.error_type=i),n&&(u.error_sub_type=n),o&&(u.error_code=o),r&&(u.error_msg=r),!!mfwPageEvent&&mfwPageEvent("hotel",t,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,i){e.exports={default:i(64),__esModule:!0}},function(e,t,i){e.exports={default:i(65),__esModule:!0}},function(e,t,i){var n=i(15),a=i(4)("toStringTag"),s="Arguments"==n(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,i,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=o(t=Object(e),a))?i:s?n(t):"Object"==(r=n(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){var n=i(3).document;e.exports=n&&n.documentElement},function(e,t,i){"use strict";var n=i(35),a=i(8),s=i(85),o=i(9),r=i(17),u=i(11),l=i(75),c=i(24),h=i(81),d=i(4)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,i,m,v,y,g){l(i,t,m);var _,k,C,b=function(e){if(!p&&e in $)return $[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},x=t+" Iterator",I="values"==v,P=!1,$=e.prototype,E=$[d]||$["@@iterator"]||v&&$[v],w=!p&&E||b(v),T=v?I?b("entries"):w:void 0,N="Array"==t?$.entries||E:E;if(N&&(C=h(N.call(new e)))!==Object.prototype&&C.next&&(c(C,x,!0),n||r(C,d)||o(C,d,f)),I&&E&&"values"!==E.name&&(P=!0,w=function(){return E.call(this)}),n&&!g||!p&&!P&&$[d]||o($,d,w),u[t]=w,u[x]=f,v)if(_={values:I?w:b("values"),keys:y?w:b("keys"),entries:T},g)for(k in _)k in $||s($,k,_[k]);else a(a.P+a.F*(p||P),t,_);return _}},function(e,t){e.exports=!0},function(e,t,i){var n=i(82),a=i(32);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,i){var n=i(6),a=i(10),s=i(23);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var i=s.f(e);return(0,i.resolve)(t),i.promise}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var n=i(3),a=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t,i){var n=i(6),a=i(14),s=i(4)("species");e.exports=function(e,t){var i,o=n(e).constructor;return void 0===o||void 0==(i=n(o)[s])?t:a(i)}},function(e,t,i){var n,a,s,o=i(16),r=i(71),u=i(33),l=i(21),c=i(3),h=c.process,d=c.setImmediate,p=c.clearImmediate,f=c.MessageChannel,m=c.Dispatch,v=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},_=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return y[++v]=function(){r("function"==typeof e?e:Function(e),t)},n(v),v},p=function(e){delete y[e]},"process"==i(15)(h)?n=function(e){h.nextTick(o(g,e,1))}:m&&m.now?n=function(e){m.now(o(g,e,1))}:f?(a=new f,s=a.port2,a.port1.onmessage=_,n=o(s.postMessage,s,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",_,!1)):n="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(o(g,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,i){var n=i(26),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t,i){var n=i(20);e.exports=function(e){return Object(n(e))}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(29),s=n(a),o=i(1),r=n(o),u=i(2),l=n(u),c=i(0),h=n(c),d=i(13),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(d),f=i(60),m=n(f),v=i(28),y=n(v),g=function(){function e(t){(0,r.default)(this,e),this.$conInfoContainer=(0,h.default)("#_j_contact_information_container"),this.$commonContactList=this.$conInfoContainer.find("._j_common_contact_list"),this.$commonContactListLen=this.$commonContactList.length,this.$nameInput=this.$conInfoContainer.find(".name"),this.$nameInput.val(""),this.$phoneInput=this.$conInfoContainer.find(".phone"),this.$phoneInput.val(""),this.$emailInput=this.$conInfoContainer.find(".email"),this.$emailInput.val(""),this.$phoneExContainer=this.$conInfoContainer.find("#_j_phone-ex-container"),this.$phoneEx=this.$phoneExContainer.find(".phone-ex"),this.otaId=t.ota_type,this.isNeedPhoneEx=p.isNeedPhoneEx(t.ota_type),this.phoneExPopup=new m.default,this.gParam=t,this.isSelected=!1,this.init()}return(0,l.default)(e,[{key:"init",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){var e=this;this.$commonContactListLen&&this.$commonContactList.on("click",".radio",function(t){e.handleContactItemClick(t)}),this.$conInfoContainer.on("focus",'[type="text"]',function(t){e.handleInputFocus(t)}).on("blur",'[type="text"]',function(){e.handleInputBlur()}),this.isNeedPhoneEx&&this.$phoneExContainer.on("click",function(){e.handlePhoneExContainerClick()})}},{key:"handlePhoneExContainerClick",value:function(){this.phoneExPopup.show(),M.Event(this.phoneExPopup).on("bankListClick",h.default.proxy(this.handleBankListClick,this))}},{key:"handleBankListClick",value:function(e){var t=e.id;this.$phoneEx.html(t)}},{key:"handleContactItemClick",value:function(e){this.targetItem=(0,h.default)(e.currentTarget),this.commonContactItems=this.$commonContactList.find(".radio");var t=this.targetItem,i=this.commonContactItems,n=this.gParam;if(t.hasClass("current"))this.isSelected=!1,t.removeClass("current"),this.handleInputsValue();else{this.isSelected=!0,i.removeClass("current"),t.addClass("current");var a=t.data("name"),s=t.data("phone"),o=t.data("email"),r=Number(t.data("phone-ex"));this.handleInputsValue(a,s,o,r),(0,y.default)(n,"booking_app_operation",null,null,"common_contact_items_selected")}}},{key:"handleInputsValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=a&&0!==parseInt(a)?a:"86";this.handleBankListClick({id:o});var r={name:e,phone:t,email:n};(0,s.default)(r).forEach(function(e){var t=i["$"+e+"Input"];t.val(r[e]),i.handleInputFocus(t),i.handleInputBlur()})}},{key:"handleInputFocus",value:function(e){this.target=e.currentTarget?(0,h.default)(e.currentTarget):e,this.targetUiInputParent=this.target.closest(".ui-input");var t=this.target,i=this.targetUiInputParent,n=this.isSelected,a=i.hasClass("ui-input-error"),s=i.hasClass("ui-input-success");a?i.removeClass("ui-input-error"):s&&i.removeClass("ui-input-success"),i.addClass("ui-input-focus"),n&&(this.selectedVal=t.val())}},{key:"handleInputBlur",value:function(){this.handleSelectedContactItem(),this.targetUiInputParent.removeClass("ui-input-focus"),this.inputErrorTips=this.targetUiInputParent.siblings(".tips-err");var e=!1;switch(this.target.attr("input-name")){case"name":e=this.handleNameInputBlur();break;case"phone":e=this.handlePhoneInputBlur();break;case"email":e=this.handleEmailInputBlur()}e&&(this.targetUiInputParent.addClass("ui-input-success"),this.hideInputErrorTips())}},{key:"handleSelectedContactItem",value:function(){var e=this.isSelected,t=this.target,i=this.gParam;if(e){var n=t.val(),a=this.selectedVal,s=this.commonContactItems;a!==n&&(s.removeClass("current"),this.isSelected=!1,(0,y.default)(i,"booking_app_operation",null,null,"common_contact_items_selected_change"))}}},{key:"handleNameInputBlur",value:function(){var e=this.target.val();if(p.isEmpty(e)||!p.isChCharsOrEnLetters(e))return this.handleInputErrorName("请填写中文或拼音"),!1;if(p.isElocn(this.otaId)&&p.isInclude(e,["先生","小姐"])){var t=e.replace(/(先生)|(小姐)/g,"");if(!t)return this.handleInputErrorName("请填写中文或拼音"),!1;this.target.val(t)}return!0}},{key:"handlePhoneInputBlur",value:function(){var e=this.target.val(),t=this.$phoneEx.html();return!(p.isEmpty(e)||"86"===t?!p.isMobile(e):!/^\d+$/.test(e))||(this.handleInputErrorName("请填写正确的手机号码"),!1)}},{key:"handleEmailInputBlur",value:function(){var e=this.target.val();return!(p.isEmpty(e)||!p.isEmail(e))||(this.handleInputErrorName("请填写正确的邮箱"),!1)}},{key:"handleInputErrorName",value:function(e){this.targetUiInputParent.addClass("ui-input-error"),this.showInputErrorTips(e)}},{key:"showInputErrorTips",value:function(e){this.inputErrorTips.find(".tips-err-text").html(e),this.inputErrorTips.show()}},{key:"hideInputErrorTips",value:function(){this.inputErrorTips.hide()}},{key:"hasInputError",value:function(){return p.hasInputError(this.$conInfoContainer)}},{key:"hasEmptyInput",value:function(){return p.hasEmptyInput(this.$conInfoContainer)}},{key:"getsTrueName",value:function(){return this.$nameInput.val()}},{key:"getsPhone",value:function(){var e=this.$phoneEx.html(),t=this.$phoneInput.val();return"86"===e?{sPhone:t,sPhoneEx:""}:this.isNeedPhoneEx?{sPhone:"00"+e+"-"+t,sPhoneEx:e}:{sPhone:t,sPhoneEx:""}}},{key:"getsEmail",value:function(){return this.$emailInput.val()}}]),e}();t.default=g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),o=i(2),r=n(o),u=i(0),l=n(u),c=function(){function e(t,i,n){(0,s.default)(this,e),this.ratePlanData=t,this.gParam=i,this.selectCouponData={},this.xhrCount=1,this.couponCode="",this.$couponContainer=n,this.$couponListWrap=this.$couponContainer.find("#_j_coupon_list_wrap"),this.$couponInactiveTitle=this.$couponContainer.find(".inactive-coupon"),this.$couponInactiveListWrap=this.$couponContainer.find("#_j_coupon_inactive_list_wrap"),this.init()}return(0,r.default)(e,[{key:"init",value:function(){this.getCouponData()}},{key:"getCouponData",value:function(){var e=this,t=this.gParam,i=this.ratePlanData,n={filter:{hotel_id:t.hotel_id,ota:"youyu_pkg",sub_ota_id:t.ota_type,total_rate:i.total_price,pay_type:i.pay_type,platform_type:1},page:{mode:"random_total",no:1,num:50}};l.default.ajax({url:"/rest/hotel/coupon/",type:"get",dataType:"json",data:n,context:this}).done(function(t){e.xhrCount=1,e.couponData=t.data.list,e.getCouponDataSuccess()}).fail(function(){e.xhrCount<=3?(e.xhrCount+=1,e.getCouponData()):e.couponContainerHide()})}},{key:"getCouponDataSuccess",value:function(){this.couponData.length>0?(this.createDom(),this.getModWrapHeight(),this.bindEvents()):this.couponContainerHide()}},{key:"couponContainerHide",value:function(){this.$couponContainer.hide()}},{key:"createDom",value:function(){var e=[],t=[];this.couponData.forEach(function(i){var n="",a=i.used_end_time.replace(/^(\d+)-(\d+)-(\d+)\s*(\d+):(\d+):(\d+)$/,"$1.$2.$3");i.is_available?(n=i.rate?'<li code="'+i.code+'" max-price="'+i.rate_max_price+'" rate="'+i.rate+'"><div class="value"><div class="middle"><b>'+i.rate+'折</b><p style="margin: 3px 0;">满'+i.used_condition_price+"可用</p>最高减免"+i.rate_max_price+'</div></div><div class="info"><strong>'+i.name+"</strong><br>有效期至"+a+"</div></li>":'<li code="'+i.code+'" price="'+i.price+'"><div class="value"><div class="middle">￥<b>'+i.price+"</b><br>满"+i.used_condition_price+'可用</div></div><div class="info"><strong>'+i.name+"</strong><br>有效期至"+a+"</div></li>",e.push(n)):(n=i.rate?'<li code="'+i.code+'" price="'+i.price+'">\n                            <div class="coupon-inactive-card">\n                                <div class="value"><div class="middle"><b>'+i.rate+'折</b><p style="margin: 3px 0;">满'+i.used_condition_price+"可用</p>最高减免"+i.rate_max_price+'</div></div>\n                                <div class="info"><strong>'+i.name+"</strong><br>有效期至"+a+"</div>\n                            </div>\n                            <p>"+i.desc+"</p>\n                        </li>":'<li code="'+i.code+'" price="'+i.price+'">\n                            <div class="coupon-inactive-card">\n                                <div class="value"><div class="middle">￥<b>'+i.price+"</b><br>满"+i.used_condition_price+'可用</div></div>\n                                <div class="info"><strong>'+i.name+"</strong><br>有效期至"+a+'</div>\n                            </div>\n                            <p class="coupon-desc">'+i.desc+"</p>\n                        </li>",t.push(n))}),this.$element=(0,l.default)(e.join("")),this.$couponListWrap.html(this.$element),this.$couponContainer.find(".mod-title.coupon em:eq(0)").text(e.length),this.$couponContainer.find(".mod-title.coupon em:eq(1)").text(this.couponData.length),t.length>0?(this.$couponInactiveTitle.find(".thin em").text(t.length),this.$couponInactiveListWrap.html(t.join(""))):(this.$couponInactiveTitle.hide(),this.$couponInactiveListWrap.hide())}},{key:"getModWrapHeight",value:function(){this.couponHeight=this.$couponContainer.height(),this.$couponContainer.css("height",26)}},{key:"bindEvents",value:function(){var e=this;this.$couponContainer.on("click",".mod-title",function(){e.handleArrowClick()}).on("click","#_j_coupon_list_wrap li",function(t){e.handleCouponItemClick(t)})}},{key:"handleArrowClick",value:function(){var e=this.$couponContainer;e.hasClass("extend")?(e.removeClass("extend"),e.css("height",26)):(e.addClass("extend"),e.css("height",this.couponHeight))}},{key:"handleCouponItemClick",value:function(e){var t=(0,l.default)(e.currentTarget),i=this.$couponContainer.find("li"),n=t.attr("code");t.hasClass("current")?(t.removeClass("current"),this.selectCouponData.flag=!1,this.setCouponCode("")):(i.removeClass("current"),t.addClass("current"),this.selectCouponData.flag=!0,this.setCouponCode(n),t.attr("rate")?(this.selectCouponData.rate=t.attr("rate"),this.selectCouponData.maxPrice=t.attr("max-price")):(this.selectCouponData.rate=0,this.selectCouponData.maxPrice=0,this.selectCouponData.price=t.attr("price"))),M.Event(this).fire("couponClick",this.selectCouponData)}},{key:"setCouponCode",value:function(e){this.code=e}},{key:"getCouponCode",value:function(){return this.code?this.code:""}}]),e}();t.default=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),o=i(2),r=n(o),u=i(0),l=n(u),c=i(18),h=n(c),d=function(){function e(t,i,n,a){(0,s.default)(this,e),this.ratePlanData=t,this.gParam=i,this.totalPriceNum=parseFloat(this.ratePlanData.total_price).toFixed(2),this.$parentElem=n,this.$orderSide=a,this.otaType={7:"Booking.com",14:"agoda",15:"agoda",10:"携程",17:"携程",8:"艺龙",16:"艺龙"},this.cancelClass="danger",this.invoiceClass="attention",this.init()}return(0,r.default)(e,[{key:"init",value:function(){this.createDom()}},{key:"createDom",value:function(){this.$element=(0,l.default)('<div class="expense-detail">\n                            <div class="hd">预订费用明细</div>\n                            <ul class="bd"></ul>\n                        </div>'),this.detailPriceContainer=this.$element.find(".bd"),this.createDetailPriceDom(),this.couponContainer=this.$element.find(".coupon-container"),this.couponNum=this.couponContainer.find(".coupon-num"),this.insureContainer=this.$element.find(".insure-container"),this.insureNum=this.insureContainer.find(".price"),this.honeyContainer=this.$element.find(".honey-container"),this.honeyNum=this.honeyContainer.find(".price"),this.totalRate=this.$element.find(".total .price"),this.$parentElem.prepend(this.$element),this.createCancelDom(),this.createInvoiceDom(),this.$stateElem=this.$parentElem.find(".state"),this.$dangerElem=this.$parentElem.find(".danger"),this.createTipsDom(),this.createOtaTypeDom(),this.$orderSide.addClass("show")}},{key:"createDetailPriceDom",value:function(){var e=[],t=this.getDate();e.push("<li>"+this.gParam.room_num+"间客房 x "+t+'晚<em style="font-style: normal; padding-left: 10px;">'+this.ratePlanData.breakfast+'</em><span class="price">￥'+this.totalPriceNum+"</span></li>");var i=this.ratePlanData.additional_services;if(i.length){var n=i.map(function(e){return"<li>"+e+'<span class="price">￥0.00</span></li>'});e.push(n.join(""))}e.push('<li class="insure-container">酒店取消险<span class="price"></span></li>'),e.push('<li class="honey-container">蜂蜜抵现<span class="price price-minus"></span></li>'),e.push('<li class="coupon-container">优惠券<span class="price price-minus">-￥<em class="coupon-num"></em></span></li>');var a=this.isIncludeTax()?"总价 (含税)":"总价";e.push('<li class="total">'+a+'<span class="price price-minus">￥'+this.totalPriceNum+"</span></li>"),this.detailPriceContainer.html(e.join(""))}},{key:"getDate",value:function(){var e=new Date(this.gParam.check_date_out),t=new Date(this.gParam.check_date_in),i=e.getTime()-t.getTime();return parseInt(i/864e5)}},{key:"createCancelDom",value:function(){var e=this.ratePlanData.cancellation,t=e.is_free,i=e.deadline,n="该订单不可取消和变更";if(t&&(n="该订单可免费取消",this.cancelClass="",i)){n="北京时间 "+i.replace(/^(\d+)-(\d+)-(\d+)\s*(\d+):(\d+):(\d+)$/,"$1年$2月$3日 $4:$5:$6")+"前 "+n}var a='<div class="state '+this.cancelClass+'">'+n+"</div>";this.cancelText=n,this.isFree=t,this.$parentElem.append(a)}},{key:"createInvoiceDom",value:function(){var e=this.ratePlanData.invoice_type,t="";switch(e){case 2:t="特别提示：此订单发票/收据由酒店前台开具，请在入住完成后向酒店前台索取。";break;case 11:t="特别提示：该酒店暂不支持提供发票。"}if(t){var i='<div class="state '+this.invoiceClass+'">'+t+"</div>";this.$parentElem.append(i)}}},{key:"cancelDomLinkWithInsure",value:function(e){var t=this.cancelClass,i=this.$dangerElem,n=this.cancelText,a=this.isFree;e?(i.removeClass(t),i.html("已购买取消险，理赔条件内取消，最高可获总价90%赔付")):(i.addClass(t),i.html(a?n:"该订单不可取消和变更，推荐购买酒店取消险"))}},{key:"createTipsDom",value:function(){var e=this.isIncludeTax(),t=e?"":"以上价格不包含税费",i="",n=this.ratePlanData.mandatory_fee_desc;n&&t?i=(0,l.default)('<div class="tips">'+t+'，查看其他费用明细\n                            <div class="tips-question">\n                                <i class="i-notice"></i>\n                                <div class="tips-cont">'+n+"</div>\n                            </div>\n                        </div>"):n?i=(0,l.default)('<div class="tips">查看其他费用明细\n                            <div class="tips-question">\n                                <i class="i-notice"></i>\n                                <div class="tips-cont">'+n+"</div>\n                            </div>\n                        </div>"):t&&(i=(0,l.default)('<div class="tips">'+t+"</div>")),this.$parentElem.append(i)}},{key:"createOtaTypeDom",value:function(){if(this.gParam.ota_type in this.otaType){var e=(0,l.default)('<div class="tips">服务商: '+this.otaType[String(this.gParam.ota_type)]+"</div>");this.$parentElem.append(e)}}},{key:"isIncludeTax",value:function(){return!!this.ratePlanData.is_include_tax}},{key:"couponShow",value:function(e){this.couponNum.html(parseFloat(e).toFixed(2)),this.couponContainer.show()}},{key:"couponHide",value:function(){this.couponContainer.hide()}},{key:"insureShow",value:function(e){var t=this,i=parseFloat(e).toFixed(2);this.insureContainer.show(),this.isInsureLoading?(setTimeout(function(){t.insureNum.html("￥"+i)},400),this.isInsureLoading=!1):this.insureNum.html("￥"+i),2===this.ratePlanData.invoice_type&&this.$parentElem.find("."+this.invoiceClass).append("<span>保险发票在保单生成后由保险公司发送到您的邮箱。</span>")}},{key:"insureHide",value:function(){this.insureContainer.hide(),2===this.ratePlanData.invoice_type&&this.$parentElem.find("."+this.invoiceClass).find("span").remove()}},{key:"honeyShow",value:function(e){var t=this,i=parseFloat(e).toFixed(2);this.honeyContainer.show(),this.isHoneyLoading?(setTimeout(function(){t.honeyNum.html("-￥"+i)},400),this.isHoneyLoading=!1):this.honeyNum.html("-￥"+i)}},{key:"honeyHide",value:function(){this.honeyContainer.hide()}},{key:"setTotalPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=this.ratePlanData.total_price;a=(a-e-n+i).toFixed(2),a=a>=0?a:"0.00",this.isTotalPriceLoading?(setTimeout(function(){t.totalRate.html("￥"+a)},400),this.isTotalPriceLoading=!1):this.totalRate.html("￥"+a)}},{key:"showInsureLoading",value:function(){this.isInsureLoading=!0,(0,h.default)(this.insureNum)}},{key:"showHoneyLoading",value:function(){this.isHoneyLoading=!0,(0,h.default)(this.honeyNum)}},{key:"showTotalPriceLoading",value:function(){this.isTotalPriceLoading=!0,(0,h.default)(this.totalRate)}}]),e}();t.default=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(30),s=n(a),o=i(1),r=n(o),u=i(2),l=n(u),c=i(0),h=n(c),d=i(18),p=n(d),f=function(){function e(t,i){(0,r.default)(this,e),this.checked=!1,this.xhrCount=1,this.$honeyContainer=t,this.totalPrice=i,this.$iconCheckbox=this.$honeyContainer.find(".icon-checkbox"),this.$honeyNumEleContainer=this.$honeyContainer.find("._j_honey-num-container"),this.$honeyNumEle=this.$honeyContainer.find("._j_honey-num"),this.init()}return(0,l.default)(e,[{key:"init",value:function(){this.getHoneyNumPromise(this.totalPrice),this.bindEvents()}},{key:"getHoneyNumPromise",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,p.default)(this.$honeyNumEle),i?new s.default(function(i,n){t.getHoneyNum(e,i,n)}):this.getHoneyNum(e)}},{key:"getHoneyNum",value:function(e,t,i){var n=this,a={total_price:parseFloat(e)};this.xhr&&4!==this.xhr.readyState&&this.xhr.abort(),this.xhr=h.default.ajax({url:"/hotel/ajax_v2/bookingAppGetHoney",type:"get",data:a,dataType:"json",timeout:1e4,context:this}).done(function(e){n.xhrCount=1,n.data=e.data,n.setHoneyNum(n.data),t&&t()}).fail(function(a,s){"abort"!==s&&n.xhrCount<=3?(n.xhrCount+=1,t||i?n.getHoneyNum(e,t,i):n.getHoneyNum(e)):i?(n.handleGetHoneyError(),i()):n.handleGetHoneyError()})}},{key:"bindEvents",value:function(){var e=this;this.$honeyContainer.on("click",".mod-title",function(){e.handleArrowClick()}),this.$iconCheckbox.on("click",function(){e.handleIconCheckboxClick()})}},{key:"handleArrowClick",value:function(){var e=this.$honeyContainer;e.hasClass("extend")?(e.removeClass("extend"),e.css("height",26)):(e.addClass("extend"),e.css("height",80))}},{key:"handleIconCheckboxClick",value:function(){var e={selectFlag:!0};this.$iconCheckbox.hasClass("checked")?(this.$iconCheckbox.removeClass("checked"),this.checked=!1,e.selectFlag=!1):(this.$iconCheckbox.addClass("checked"),this.checked=!0,e.spend=this.$honeyNumEle.attr("spend"),e.amount=this.$honeyNumEle.attr("amount")),M.Event(this).fire("honeyClick",e)}},{key:"setIconCheckboxChecked",value:function(){this.$iconCheckbox&&this.$iconCheckbox.click()}},{key:"setHoneyNum",value:function(e){var t=this;if(this.$honeyNumEleContainer.attr("has-honey",1),e.honey.error)return this.handleGetHoneyError(),void this.$honeyNumEleContainer.attr("has-honey",0);var i=e.honey,n=i.spend,a=i.amount;this.$honeyNumEle.attr("spend",n),this.$honeyNumEle.attr("amount",a),setTimeout(function(){t.$honeyNumEle.html("可用"+n+"蜂蜜抵扣"+a+"元。")},400)}},{key:"handleGetHoneyError",value:function(){this.$honeyNumEleContainer.html("遗憾，您还没有蜂蜜哦。每次在马蜂窝预订酒店，成功入住后填写点评，即可获得20蜂蜜奖励。记得预订时要登录哦～")}},{key:"isHoneyChecked",value:function(){return this.checked}},{key:"hasHoney",value:function(){return!!parseInt(this.$honeyNumEleContainer.attr("has-honey"))}},{key:"getSpend",value:function(){return this.$honeyNumEle.attr("spend")}},{key:"getAmount",value:function(){return this.$honeyNumEle.attr("amount")}}]),e}();t.default=f},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(30),s=n(a),o=i(1),r=n(o),u=i(2),l=n(u),c=i(0),h=n(c),d=i(18),p=n(d),f=function(){function e(t,i){(0,r.default)(this,e),this.$insureDetailPopup=(0,h.default)(".popup-layer"),this.$insureDetailPopupCloseBtn=this.$insureDetailPopup.find("._j_close-btn"),this.checked=!1,this.initInsureModuleFlag=!0,this.xhrCount=1,this.$insureContainer=t,this.totalPrice=i,this.$iconCheckbox=this.$insureContainer.find(".icon-checkbox"),this.$insureNumEle=this.$insureContainer.find("._j_cancel-price"),this.$insureDetailBtn=this.$insureContainer.find("._j_cancel-detail-btn"),this.$insureDecaration=(0,h.default)(".insuer-pop-hd").find("a").eq(0),this.init()}return(0,l.default)(e,[{key:"init",value:function(){this.getInsurePricePromise(this.totalPrice),this.getModWrapHeight(),this.bindEvents(),this.handleArrowClick(),this.addInsureDecaration()}},{key:"addInsureDecaration",value:function(){(0,h.default)('<span style="font-size: 14px; font-weight: bold;">声明：</span>马蜂窝所有保险均由依法设立的保险公司提供，马蜂窝仅提供平台展示，而非保险公司的代理人，本站所载保险 阳光保险及中国人民保险产品均由华泰保险经纪有限公司负责承保、理赔、退保、投诉及客户服务，本站只提供网络技术辅助服务。<br/>').insertBefore(this.$insureDecaration)}},{key:"getInsurePricePromise",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,p.default)(this.$insureNumEle);var n=this.getInsureId();return i?new s.default(function(i,a){t.getInsurePrice(n,e,i,a)}):this.getInsurePrice(n,e)}},{key:"getInsurePrice",value:function(e,t,i,n){var a=this,s={id:e,totalPrice:parseFloat(t)};this.xhr&&4!==this.xhr.readyState&&this.xhr.abort(),this.xhr=h.default.ajax({url:"/hotel/ajax_v2/bookingAppGetInsureNum",type:"post",data:s,dataType:"json",timeout:1e4,context:this}).done(function(e){a.xhrCount=1,a.insureNum=e.data,a.setInsureNum(a.insureNum),i&&i()}).fail(function(s,o){"abort"!==o&&a.xhrCount<=3?(a.xhrCount+=1,i||n?a.getInsurePrice(e,t,i,n):a.getInsurePrice(e,t)):n?(a.$insureNumEle.html("取消险价格获取失败!"),n()):a.$insureNumEle.html("取消险价格获取失败!")})}},{key:"getModWrapHeight",value:function(){this.insureHeight=this.$insureContainer.height(),this.$insureContainer.css("height",26)}},{key:"bindEvents",value:function(){var e=this;this.$insureContainer.on("click",".mod-title",function(){e.handleArrowClick()}),this.$insureDetailBtn.on("click",function(){e.handleInsureDetailBtnClick()}),this.$insureDetailPopupCloseBtn.on("click",function(){e.handleCloseBtnClick()}),this.$iconCheckbox.on("click",function(){e.handleIconCheckboxClick()})}},{key:"handleArrowClick",value:function(){var e=this.$insureContainer;e.hasClass("extend")?(e.removeClass("extend"),e.css("height",26)):(e.addClass("extend"),e.css("height",this.insureHeight))}},{key:"handleInsureDetailBtnClick",value:function(){this.insureDetailPopupShow()}},{key:"handleCloseBtnClick",value:function(){this.insureDetailPopupHide()}},{key:"handleIconCheckboxClick",value:function(){this.$iconCheckbox.hasClass("checked")?(this.$iconCheckbox.removeClass("checked"),this.checked=!1):(this.$iconCheckbox.addClass("checked"),this.checked=!0),M.Event(this).fire("insureClick")}},{key:"setIconCheckboxChecked",value:function(){this.$iconCheckbox.click()}},{key:"insureDetailPopupShow",value:function(){this.$insureDetailPopup.show()}},{key:"insureDetailPopupHide",value:function(){this.$insureDetailPopup.hide()}},{key:"getInsureId",value:function(){return parseInt(this.$iconCheckbox.data("id"))}},{key:"getInsureNum",value:function(){return this.insureNum}},{key:"setInsureNum",value:function(e){var t=this;this.insureNum=parseFloat(e),setTimeout(function(){t.$insureNumEle.html("￥"+e)},400)}},{key:"isInsureChecked",value:function(){return this.checked}}]),e}();t.default=f},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),o=i(2),r=n(o),u=i(0),l=n(u),c=i(13),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(c),d=function(){function e(t,i,n){(0,s.default)(this,e),this.invoiceContainer=t,this.invoiceSwitchBtnContainer=t.find("._j_invoice_switch_btn_container"),this.invoiceSwitchBtn=this.invoiceSwitchBtnContainer.find("._j_invoice_switch_btn"),this.invoiceModTitle=t.find(".mod-title"),this.invoiceBody=t.find(".mod-bd"),this.invoiceModTips=t.find(".tips"),this.invoiceOption=i,this.relativeClassName={success:"ui-input-success",focus:"ui-input-focus",error:"ui-input-error",extend:"extend",checked:"checked",invoiceChecked:"invoice-switch-btn-label-checked",current:"current"},this.isNeedRec=!1,this.isInvoiceDescChecked=!1,this.invoiceTitleType=2,this.hasInputField=!1,this.otaNameMap={7:"booking.com",8:"艺龙",16:"艺龙",10:"携程",17:"携程",18:"携程",19:"携程",20:"携程",14:"agoda",15:"agoda"},this.otaName=n in this.otaNameMap?this.otaNameMap[n]:"",this.init()}return(0,r.default)(e,[{key:"init",value:function(){this.createDom(),this.calcInvoiceHeight(26),this.bindEvents()}},{key:"createDom",value:function(){var e=this.invoiceOption,t=this.invoiceModTitle,i=this.invoiceBody,n=this.invoiceModTips,a=this.otaName,s="",o="",r="";switch(e){case 1:case 4:this.hasInputField=!0,s="需要收据",o='<div class="f-row">\n                            <div class="ui-input ui-input-long">\n                                <input type="text" class="input-name invoice-title">\n                                <label>抬头</label>\n                                <i class="icon-success"></i>\n                            </div>\n                            <span class="tips-err" style="display: none;"><i></i><em class="tips-err-text">请填写发票抬头</em></span>\n                        </div>',r=1===e?"此订单仅提供电子收据，请在入住完成后向供应商"+a+"索取。":"本酒店为境外酒店，马蜂窝不提供增值税发票，只由该酒店供应商提供境外电子收据。电子收据将在入住完成后1周内发送至联系人的邮箱，金额不包括各项抵扣，为实际支付金额。";break;case 3:case 5:this.hasInputField=!0,s="需要发票",o='<div class="f-row frequent" id="_j_invoicei_title_type_list">\n                        <span class="radio current" type="2">公司</span>\n                        <span class="radio" type="1">个人</span>\n                        <span class="radio" type="3">政府机关行政单位</span>\n                    </div>\n                    <div class="f-row">\n                        <div class="ui-input ui-input-long">\n                            <input type="text" class="input-name invoice-title">\n                            <label>抬头</label>\n                            <i class="icon-success"></i>\n                        </div>\n                        <span class="tips-err" style="display: none;"><i></i><em class="tips-err-text">请填写发票抬头</em></span>\n                    </div>\n                    <div class="f-row">\n                        <div class="ui-input ui-input-long">\n                            <input type="text" class="input-name invoice-itin">\n                            <label>纳税人识别号</label>\n                            <i class="icon-success"></i>\n                        </div>\n                        <span class="tips-err" style="display: none;"><i></i><em class="tips-err-text">请填写纳税人识别号</em></span>\n                    </div>\n                    <div class="f-row">\n                        <label><i class="icon-checkbox"></i><b style="display: inline-block;line-height: 24px;">发票注明入住离店日期</b></label>\n                    </div>\n                    ',r=3===e?"此订单由供应商开具增值税普通发票。电子发票将在入住完成后1周内发送至联系人的邮箱。成功入住后6个月内仍可以申请补开发票。":"此订单开具增值税普通发票，电子发票将在入住完成后1周内发送至联系人的邮箱。成功入住后6个月内仍可以申请补开发票。";break;case 2:case 11:this.invoiceContainer.hide()}t.text(s),i.html(o),n.text(r),this.invoiceInput=i.find(".input-name"),this.invoiceTitleTypeList=i.find("#_j_invoicei_title_type_list"),this.invoiceTitle=i.find(".invoice-title"),this.invoiceItin=i.find(".invoice-itin"),this.invoiceItinParent=this.invoiceItin.closest(".f-row"),this.iconCheckbox=i.find(".icon-checkbox")}},{key:"calcInvoiceHeight",value:function(e){var t=this.invoiceContainer;this.invoiceHeight=t.height()}},{key:"bindEvents",value:function(){var e=this;this.invoiceSwitchBtn.on("click",function(t){e.invoiceSwitchBtnClick(t)}),this.hasInputField&&this.invoiceBody.on("focus",'[type="text"]',function(t){e.handleInputFocus(t)}).on("blur",'[type="text"]',function(){e.handleInputBlur()}),this.invoiceTitleTypeList.length&&this.invoiceTitleTypeList.on("click",".radio",function(t){e.handleinvoiceTitleTypeItemClick(t)}),this.iconCheckbox.length&&this.iconCheckbox.on("click",function(){e.handleIconCheckboxClick()}),this.hasInputField&&this.invoiceBody.on("input",".invoice-itin",function(){e.handleInputChange()}).on("keyup",".invoice-itin",function(){e.handleInputChange()})}},{key:"handleInputFocus",value:function(e){this.target=(0,l.default)(e.currentTarget),this.targetUiInputParent=this.target.closest(".ui-input");var t=this.targetUiInputParent,i=this.relativeClassName,n=i.success,a=i.focus,s=i.error,o=t.hasClass(n);t.hasClass(s)?t.removeClass(s):o&&t.removeClass(n),t.addClass(a)}},{key:"handleInputBlur",value:function(){this.inputErrorTips=this.targetUiInputParent.siblings(".tips-err");var e=this.targetUiInputParent,t=this.inputErrorTips,i=this.target,n=this.relativeClassName,a=n.success,s=n.focus,o=n.error;e.removeClass(s),i.val()?(e.addClass(a),t.hide()):(e.addClass(o),t.show())}},{key:"handleInputChange",value:function(){this.inputErrorTips=this.targetUiInputParent.siblings(".tips-err");var e=this.inputErrorTips,t=this.target,i=t.val().toUpperCase(),n=/^([A-Za-z0-9]{1,20})$/.test(i);i&&(n?e.hide():i=i.match(/^([A-Za-z0-9])*/)[0],t.val(i.length>=20?i.slice(0,20):i))}},{key:"handleinvoiceTitleTypeItemClick",value:function(e){this.targetItem=(0,l.default)(e.currentTarget),this.invoiceTitleTypeItems=this.invoiceTitleTypeList.find(".radio");var t=(this.invoiceContainer,this.invoiceHeight,this.targetItem),i=this.invoiceTitleTypeItems,n=this.relativeClassName,a=this.invoiceTitleType,s=this.invoiceItinParent,o=n.current,r=parseInt(this.targetItem.attr("type"));a!==r&&(this.invoiceTitleType=r,i.removeClass(o),t.addClass(o),2!==r?s.fadeOut(250):s.fadeIn(250))}},{key:"invoiceSwitchBtnClick",value:function(){var e=this.invoiceContainer,t=(this.invoiceHeight,this.relativeClassName),i=this.isNeedRec,n=this.invoiceSwitchBtn,a=t.extend,s=t.invoiceChecked;e.toggleClass(a),n.toggleClass(s),i?e.removeClass("extend").find(".mod-bd").hide():e.addClass("extend").find(".mod-bd").show(),this.isNeedRec=!i}},{key:"insureTextShow",value:function(){var e=this.invoiceOption,t=this.invoiceModTips;3!==e&&4!==e&&5!==e||t.append("<span>保险发票在保单生成后由保险公司发送到您的邮箱。</span>")}},{key:"insureTextHide",value:function(){this.invoiceModTips.find("span").remove()}},{key:"handleIconCheckboxClick",value:function(){var e=this.iconCheckbox,t=this.relativeClassName,i=this.isInvoiceDescChecked,n=t.checked;e.toggleClass(n),this.isInvoiceDescChecked=!i}},{key:"getsInvoiceTitle",value:function(){var e=this.isNeedRec,t=this.invoiceTitle;return this.hasInputField&&e?t.val():""}},{key:"getsInvoiceTitleType",value:function(){var e=this.invoiceTitleType,t=this.iconCheckbox,i=this.hasInputField,n=this.isNeedRec;return i&&n&&t.length?e:""}},{key:"getsInvoiceItin",value:function(){var e=this.isNeedRec,t=this.invoiceItin,i=this.hasInputField,n=this.invoiceTitleType;return i&&e&&2===n?t.val().toUpperCase():""}},{key:"getsNeedRec",value:function(){return this.isNeedRec?1:0}},{key:"getiInvoiceNeedDesc",value:function(){return this.isNeedRec&&this.isInvoiceDescChecked?1:0}},{key:"getHasInputFiled",value:function(){return this.hasInputField}},{key:"hasInputError",value:function(){return h.hasInputError(this.invoiceContainer)}},{key:"hasEmptyInput",value:function(){return h.hasEmptyInput(this.invoiceContainer)}}]),e}();t.default=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),o=i(2),r=n(o),u=function(){function e(t,i){(0,s.default)(this,e),this.limitContainer=t,this.limitData=i,this.limitBody=this.limitContainer.find(".mod-bd"),this.init()}return(0,r.default)(e,[{key:"init",value:function(){this.createLimitList(),this.getLimitHeight(),this.bindEvents(),this.handleArrowClick()}},{key:"createLimitList",value:function(){var e=[],t=1;e.push("<ul>"),this.limitData.forEach(function(i){var n=i.display_level,a=i.desc;n<300&&a&&(e.push('<li><span style="font-size: 14px; font-weight: bold;">'+t+".</span> "+a+"</li>"),t+=1)}),e.push("</ul>"),e.length>2?this.limitBody.html(e.join("")):this.limitContainer.hide()}},{key:"bindEvents",value:function(){var e=this;this.limitContainer.on("click",".mod-title",function(){e.handleArrowClick()})}},{key:"getLimitHeight",value:function(){var e=this.limitContainer;this.limitHeight=e.height(),e.css("height",26)}},{key:"handleArrowClick",value:function(){var e=this.limitContainer,t=this.limitHeight;e.hasClass("extend")?(e.removeClass("extend"),e.css("height",26)):(e.addClass("extend"),e.css("height",t))}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(1),o=a(s),r=i(2),u=a(r),l=i(0),c=a(l),h=i(13),d=n(h),p=i(19),f=n(p),m=i(58),v=a(m),y=function(){function e(t){(0,o.default)(this,e),this.gParamData=t,this.nameList=1,this.init()}return(0,u.default)(e,[{key:"init",value:function(){this.createRoomDom(),this.bindEvents()}},{key:"createRoomDom",value:function(){this.$element=(0,c.default)('<div class="room-item"><div class="mod-title">房间<em class="room-index">'+this.gParamData.index+'</em> - <em class="room-name">'+this.gParamData.type_name+'</em> (必填)</div><p class="sub">入住信息：<span class="text">'+this.gParamData.booking_number+'</span><span class="text plain-container _j_plain_select_container"></span></p><div class="extra-tips">此入住人数为查询价格时设置的人数,如变更请在前一页日期旁修改并重新查询价格</div><div class="f-row select-container _j_select_container"></div><div class="line"></div><div class="name-list-container _j_name_list_container"><div class="f-row"><div class="ui-input"><input type="text" class="last-name input-name"><label>姓</label><i class="icon-success"></i></div><div class="ui-input"><input type="text" class="first-name input-name"><label>名</label><i class="icon-success"></i></div><span class="tips-err" style="display: none;"><i></i><em class="tips-err-text"></em></span><a class="btn-people" href="javascript:void(0);" btn-name="add"><i class="i-add"></i>增加入住人信息</a></div><div class="tips" style="padding-top: 0; padding-bottom: 10px;">*请按相应证件准确填写第一入住人信息，订单提交后将无法变更或收费变更。</div></div><div class="tips">*<span class="tips-language"></span>，填写1人即可。<div class="tips-question"><i></i><div class="tips-cont">第二位住客姓名仅用于办理签证等手续，办理入住时，请出示第一位住客的护照。预订多间客房时，每间第一位住客请务必填写不同的入住人。</br>*若购买酒店取消险，请填写全部入住人。</div></div></div></div>'),this.$roomCotainer=(0,c.default)("#_j_form_room_container"),this.$selectContainer=this.$element.find("._j_select_container"),this.$plainSelectContainer=this.$element.find("._j_plain_select_container"),this.$nameListContainer=this.$element.find("._j_name_list_container"),this.$addBtnContainer=this.$element.find('[btn-name="add"]'),this.$tipsLanguage=this.$element.find(".tips-language"),this.$subContainer=this.$element.find(".sub"),this.$extraTips=this.$element.find(".extra-tips"),this.$roomName=this.$element.find(".room-name"),this.$roomCotainer.append(this.$element),this.setTipsLanguage(),this.isMaxNameList()&&this.hideAddBtnContainer()}},{key:"setRoomName",value:function(e){this.$roomName.html(e)}},{key:"setTipsLanguage",value:function(){f.isForeignOTA(this.gParamData.can_input_chinese_name)?this.$tipsLanguage.html("与证件拼音一致"):this.$tipsLanguage.html("与证件姓名一致")}},{key:"bindEvents",value:function(){var e=this;this.$nameListContainer.on("click",".btn-people",function(t){e.handleBtnClick(t)}).on("focus",'input[type="text"]',function(t){e.handleNameInputFocus(t)}).on("blur",'input[type="text"]',function(){e.handleNameInputBlur()}),this.$subContainer.on("mousemove",function(t){window.requestAnimationFrame?e.rAFTimer=window.requestAnimationFrame(e.handleMouseMove.bind(e,t)):e.handleMouseMove(t)}).on("mouseout",function(){e.handleMouseOut()})}},{key:"handleMouseMove",value:function(e){var t=e.pageY-(0,c.default)(window).scrollTop(),i=e.pageX;this.$extraTips.css({top:t,left:i}),this.$extraTips.hasClass("show")||this.$extraTips.addClass("show")}},{key:"handleMouseOut",value:function(){this.rAFTimer&&window.cancelAnimationFrame(this.rAFTimer),this.$extraTips.removeClass("show")}},{key:"setBedTypesEle",value:function(e){var t=e.rate_plan.bed_types;t.length&&(this.bedTypesSelector=new v.default(t,this.$selectContainer,this.$plainSelectContainer))}},{key:"setSmokingEle",value:function(e){var t={E:"任意",NS:"无烟房",S:"吸烟房"},i=e.rate_plan.smokings;if(M.isArray(i)){var n=i.map(function(e){return{id:e,name:t[e]}}),a=n;!a.length||1===a.length&&"E"===a[0].id||(this.smokingSelector=new v.default(a,this.$selectContainer,this.$plainSelectContainer))}}},{key:"getBedTypeId",value:function(){return this.bedTypesSelector?this.bedTypesSelector.getId():""}},{key:"getSmokingId",value:function(){return this.smokingSelector?this.smokingSelector.getId():""}},{key:"hasInputErrorName",value:function(){return d.hasInputError(this.$element)}},{key:"hasEmptyInput",value:function(){return d.hasEmptyInput(this.$element)}},{key:"getsRoomContacts",value:function(){return this.nameFRow=this.$nameListContainer.find(".f-row"),this.getNameListVal(0)}},{key:"getsExtPersons",value:function(){this.nameFRow=this.$nameListContainer.find(".f-row");var e=this.nameFRow.length,t=[];if(e>1)for(var i=1;i<e;i+=1)t.push(this.getNameListVal(i));return t}},{key:"getNameListVal",value:function(e){var t=this.nameFRow.eq(e),i=t.find(".last-name");return{fn:t.find(".first-name").val(),ln:i.val()}}},{key:"handleNameInputFocus",value:function(e){this.target=(0,c.default)(e.currentTarget),this.targetUiInputParent=this.target.closest(".ui-input");var t=this.targetUiInputParent.hasClass("ui-input-error"),i=this.targetUiInputParent.hasClass("ui-input-success");t?this.targetUiInputParent.removeClass("ui-input-error"):i&&this.targetUiInputParent.removeClass("ui-input-success"),this.targetUiInputParent.addClass("ui-input-focus")}},{key:"handleNameInputBlur",value:function(){this.targetUiInputParent.removeClass("ui-input-focus"),this.inputErrorTips=this.targetUiInputParent.siblings(".tips-err");var e=this.target.val();if(e=e.replace(/\s+/g,""),d.isEmpty(e))return void this.handleInputErrorName("请填写姓名");if(!this.gParamData.guestNameLang||"EN"!==this.gParamData.guestNameLang&&!f.isForeignOTA(this.gParamData.can_input_chinese_name)){if(!d.isChCharsOrEnLetters(e))return void this.handleInputErrorName("请填写正确姓名")}else if(!d.isEnglishLetters(e))return void this.handleInputErrorName("请填写正确拼音");if(d.isElocn(this.gParamData.ota_type)&&d.isInclude(e,["先生","小姐"])){var t=e.replace(/(先生)|(小姐)/g,"");if(!t)return void this.handleInputErrorName("请填写正确姓名");this.target.val(t)}else this.target.val(e);this.targetUiInputParent.addClass("ui-input-success"),this.hideInputErrorTips()}},{key:"handleInputErrorName",value:function(e){this.targetUiInputParent.addClass("ui-input-error"),this.showInputErrorTips(e)}},{key:"showInputErrorTips",value:function(e){this.inputErrorTips.find(".tips-err-text").html(e),this.inputErrorTips.show()}},{key:"hideInputErrorTips",value:function(){this.targetUiInputParent.siblings(".ui-input").hasClass("ui-input-error")||this.inputErrorTips.hide()}},{key:"handleBtnClick",value:function(e){e.preventDefault();var t=(0,c.default)(e.currentTarget);switch(t.attr("btn-name")){case"add":this.handleAddBtnClick();break;case"delete":this.handleDeleteBtnClick(t)}}},{key:"handleAddBtnClick",value:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.nameList+=1,e.createNameList(),e.isMaxNameList()&&e.hideAddBtnContainer()},200)}},{key:"handleDeleteBtnClick",value:function(e){this.isMaxNameList()&&this.showAddBtnContainer(),this.nameList-=1,e.closest(".f-row").remove()}},{key:"showAddBtnContainer",value:function(){this.$addBtnContainer.fadeIn(200)}},{key:"hideAddBtnContainer",value:function(){this.$addBtnContainer.fadeOut(50)}},{key:"isMaxNameList",value:function(){return!(this.nameList<this.gParamData.adult_number+this.gParamData.child_number)}},{key:"createNameList",value:function(){var e=(0,c.default)('<div class="f-row"><div class="ui-input"><input type="text" class="last-name input-name"><label>姓</label><i class="icon-success"></i></div><div class="ui-input"><input type="text" class="first-name input-name"><label>名</label><i class="icon-success"></i></div><span class="tips-err" style="display: none;"><i></i><em class="tips-err-text"></em></span><a class="btn-people" href="javascript:void(0);" btn-name="delete"><i class="i-delete"></i>删除</a></div>');this.$nameListContainer.append(e)}}]),e}();t.default=y},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(1),o=a(s),r=i(2),u=a(r),l=i(0),c=a(l),h=i(13),d=n(h),p=i(19),f=n(p),m=i(59),v=a(m),y=function(){function e(t,i,n,a,s,r){(0,o.default)(this,e),this.canInputChName=t,this.isAllowSpecialNeeds=i,this.isAllowManSpecial=!!n,this.specialNeeds=a,this.sSpecials=[],this.$specialContainer=(0,c.default)("#_j_special_panel_container"),this.$arrivetimeContainer=(0,c.default)("#_j_arrivetime_select_container"),this.isAllowSpecialNeeds?(this.arrivetimeSelectModule=new v.default(s,r,this.$arrivetimeContainer),this.$specialList=(0,c.default)("#_j_special_panel_list"),this.createSpecialNeedsList(),this.isAllowManSpecial?this.$uiInput=this.$specialContainer.find(".ui-input"):this.$specialContainer.find("#_j_special_input_notice").remove()):(this.$specialContainer.find("#_j_special_input_notice").remove(),this.$specialContainer.find("#_j_special_panel_list").remove(),this.$specialContainer.find("#_j_arrivetime_select_container").remove(),this.$specialContainer.find("#_j_special_tips").text("*其他要求请到酒店前台与酒店协商。")),this.init()}return(0,u.default)(e,[{key:"createSpecialNeedsList",value:function(){var e=this.specialNeeds.map(function(e){return'<span class="radio" data-value=\''+e.id+"'>"+e.text+"</span>"}).join("");this.$specialList.html(e)}},{key:"init",value:function(){this.getModWrapHeight(),this.bindEvents()}},{key:"getModWrapHeight",value:function(){this.specialHeight=this.$specialContainer.height(),this.$specialContainer.css("height",26)}},{key:"bindEvents",value:function(){var e=this;this.$specialContainer.on("click",".mod-title",function(){e.handleArrowClick()}),this.isAllowSpecialNeeds&&(this.$specialList.on("click",".radio",function(t){e.handleSpecialRadioClick(t)}),this.isAllowManSpecial&&this.$uiInput.on("focus",".input-name",function(t){e.handleInputFocus(t)}).on("blur",".input-name",function(){e.handleInputBlur()}))}},{key:"handleArrowClick",value:function(){var e=this.$specialContainer;e.hasClass("extend")?(e.removeClass("extend"),e.css({height:26,overflow:"hidden"})):(e.addClass("extend"),e.css({height:this.specialHeight}),setTimeout(function(){return e.css({overflow:"visible"})},350))}},{key:"handleSpecialRadioClick",value:function(e){var t=(0,c.default)(e.target),i=t.data("value"),n=this.sSpecials.indexOf(i);-1!==n?(t.removeClass("current"),this.sSpecials.splice(n,1)):(t.addClass("current"),this.sSpecials.push(i))}},{key:"handleInputFocus",value:function(e){this.target=(0,c.default)(e.currentTarget),this.targetUiInputParent=this.target.closest(".ui-input");var t=this.targetUiInputParent.hasClass("ui-input-error"),i=this.targetUiInputParent.hasClass("ui-input-success");t?this.targetUiInputParent.removeClass("ui-input-error"):i&&this.targetUiInputParent.removeClass("ui-input-success"),this.targetUiInputParent.addClass("ui-input-focus")}},{key:"handleInputBlur",value:function(){this.targetUiInputParent.removeClass("ui-input-focus"),this.inputErrorTips=this.targetUiInputParent.siblings(".tips-err");var e=this.target.val(),t=e.length;if(f.isForeignOTA(this.canInputChName)){if(t>0&&d.isIncludeChineseChar(e))return void this.handleInputErrorName("请用字母和英文标点符号填写");if(t>250)return void this.handleInputErrorName("不能超过250个字母")}else if(t>100)return void this.handleInputErrorName("不能超过100字");this.target.val(e.replace(/(^\s*\b)|(\b\s*$)/g,"")),this.targetUiInputParent.addClass("ui-input-success"),this.hideInputErrorTips()}},{key:"handleInputErrorName",value:function(e){this.targetUiInputParent.addClass("ui-input-error"),this.showInputErrorTips(e)}},{key:"showInputErrorTips",value:function(e){this.inputErrorTips.find(".tips-err-text").html(e),this.inputErrorTips.show()}},{key:"hideInputErrorTips",value:function(){this.inputErrorTips.hide()}},{key:"hasInputError",value:function(){return!(!this.isAllowSpecialNeeds||!this.isAllowManSpecial)&&d.hasInputError(this.$specialContainer)}},{key:"getsSpecials",value:function(){return this.sSpecials}},{key:"getsLastCheckin",value:function(){return this.isAllowSpecialNeeds?this.arrivetimeSelectModule.getId():""}},{key:"getsUserNotice",value:function(){return this.isAllowSpecialNeeds&&this.isAllowManSpecial?this.$uiInput.find(".input-name").val():""}}]),e}();t.default=y},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),o=i(2),r=n(o),u=i(0),l=n(u),c=function(){function e(){(0,s.default)(this,e),this.init()}return(0,r.default)(e,[{key:"init",value:function(){this.createDom(),this.bindEvent()}},{key:"createDom",value:function(){this.$element=(0,l.default)('<div class="dialog-container"><div class="dialog-container-inner"><div class="dialog-content"></div><div class="dialog-back-btn"></div></div></div>'),this.$maskElem=(0,l.default)('<div class="dialog-mask"></div>'),this.$content=this.$element.find(".dialog-content"),this.$backBtn=this.$element.find(".dialog-back-btn"),this.$body=(0,l.default)(document.body),this.$body.append(this.$element),this.$body.append(this.$maskElem)}},{key:"bindEvent",value:function(){var e=this;this.$backBtn.on("click",function(){return e.handleBackBtnClick()})}},{key:"handleBackBtnClick",value:function(){this.hide(),M.Event(this).fire("backBtnClick")}},{key:"hide",value:function(){this.$element.removeClass("dialog-container-show"),this.$maskElem.removeClass("dialog-mask-show")}},{key:"show",value:function(){this.$element.addClass("dialog-container-show"),this.$maskElem.addClass("dialog-mask-show")}},{key:"setContent",value:function(e){this.$content.html(e),this.reposition()}},{key:"setBtnName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"点此返回酒店房型页";this.$backBtn.html(e)}},{key:"reposition",value:function(){var e=(0,l.default)(window).width(),t=(0,l.default)(window).height(),i=this.$element.width(),n=this.$element.height();this.$element.css({top:(t-n)/2,left:(e-i)/2})}}]),e}();t.default=c},function(e,t,i){e.exports={default:i(62),__esModule:!0}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=i(56),s=n(a),o=i(1),r=n(o),u=i(2),l=n(u),c=i(0),h=n(c),d=i(53),p=n(d),f=i(46),m=n(f),v=i(54),y=n(v),g=i(47),_=n(g),k=i(48),C=n(k),b=i(50),x=n(b),I=i(49),P=n(I),$=i(51),E=n($),w=i(52),T=n(w),N=i(55),S=n(N),L=i(28),D=n(L);(new(function(){function e(){(0,r.default)(this,e),this.gParam=h.default.extend({},window.Env.gParams,!0),this.hostName=window.location.hostname.slice(4),this.xhrCount=1,this.isSubmit=!1,this.couponNum=0,this.roomLists=[],this.win=(0,h.default)(window),this.wrapper=(0,h.default)("#_j_wrapper"),this.submitBtn=this.wrapper.find(".btn-action"),this.extraContainer=this.wrapper.find(".extra"),this.extraTips=this.wrapper.find(".extra-tips"),this.finalConfirmPriceElem=this.wrapper.find("#_j_final_confirm_price"),this.limitContainer=this.wrapper.find("#_j_limit_container"),this.creditCardContainer=this.wrapper.find("#_j_crediCard_container"),this.couponContainer=this.wrapper.find("#_j_coupon_container"),this.expenseContainer=this.wrapper.find("#_j_expense_container"),this.hotelInsureContainer=this.wrapper.find("#_j_hotel_insure_container"),this.insureContainer=this.wrapper.find(".cancel-panel"),this.honeyContainer=this.wrapper.find(".honey-panel"),this.expenseContainerTop=this.expenseContainer.offset().top,this.invoiceContainer=this.wrapper.find("#_j_invoice_panel_container"),this.orderSide=this.wrapper.find("#_j_order_side"),this.hotelInsurePopup=(0,h.default)("#_j_hotel_insure_popup"),this.openHotelInsurePopupBtn=(0,h.default)("#_j_open_hotel_insure_popup"),this.closeHotelInsurePopupBtn=(0,h.default)("#_j_close_hotel_insure_popup")}return(0,l.default)(e,[{key:"init",value:function(){var e=this.gParam;try{this.timeStart(),this.splitChildAndAdultNum(),(0,D.default)(e,"booking_app_traffic"),this.getRatePlanData(),this.initDialog(),this.initRoomLists(),this.initContact(),this.bindEvents()}catch(t){(0,D.default)(e,"booking_app_error","script","default",null,null,"C0101",t.message)}}},{key:"timeStart",value:function(){this.startTime=(new Date).getTime(),this.timeStamp=18e5}},{key:"getRatePlanData",value:function(){var e=this,t=this.gParam,i={poi_id:t.poi_id,ota:"zx",ota_id:t.ota_type,ota_hotel_id:t.ota_hotel_id,room_id:t.type_id,rate_plan_id:t.room_id,room_count:t.room_num,check_in:t.check_date_in,check_out:t.check_date_out,adults_num:t.adult_number,children_num:t.child_number,children_age:t.childAge.join(","),platform:"www"};i._sn&&delete i._sn,i._ts&&delete i._ts;var n=(0,s.default)(i);h.default.ajax({url:"/hotel/ajax_remote/ratePlan",type:"get",dataType:"json",data:i,context:this}).done(function(i){if(e.xhrCount=1,i.data.error_code){e.handlePriceExpiresDialog();var a=i.data,s=a.error_code,o=a.error_message;return void(0,D.default)(t,"booking_app_error","service","get_rate_plan",null,n,s,o)}e.ratePlanData=i.data,e.totalPrice=e.ratePlanData.rate_plan.total_price,e.isAllowSpecialNeeds=e.ratePlanData.rate_plan.is_allow_special_needs,e.isAllowManSpecial=e.ratePlanData.rate_plan.allow_man_special,e.arrivedEarly=e.ratePlanData.ota.earliest_arrive_time,e.arrivedLate=e.ratePlanData.ota.latest_arrive_time,e.specialNeeds=e.ratePlanData.ota.special_needs,t.guestNameLang=e.ratePlanData.ota.guest_name_lang;var r=e.ratePlanData.rate_plan.price;parseInt(r)!==parseInt(t.price)&&(0,D.default)(t,"booking_app_error","service","get_rate_plan",null,n,"C0013","价格不一致"),e.getRatePlanDataSuccess()}).fail(function(){if(e.xhrCount<=5)return e.xhrCount+=1,void e.getRatePlanData();e.handlePriceExpiresDialog(),(0,D.default)(t,"booking_app_error","service","get_rate_plan",null,n,"C0001")})}},{key:"initDialog",value:function(){this.tipDialog=new S.default,M.Event(this.tipDialog).on("backBtnClick",h.default.proxy(this.handleBackBtnClick,this))}},{key:"handleBackBtnClick",value:function(){var e=this.knowFlag,t=this.gParam;e||((0,D.default)(t,"booking_app_operation",null,null,"back"),window.location.href=document.referrer)}},{key:"handlePriceExpiresDialog",value:function(e){this.tipDialog.setBtnName(),this.knowFlag=!1;var t="您好，报价已失效，请返回上一页重新选择房间。";/\((.+)\)/.test(e)&&(t=RegExp.$1,this.knowFlag=!0,this.tipDialog.setBtnName("知道了")),this.tipDialog.setContent("<p>"+t+"</p>"),this.tipDialog.show()}},{key:"handleTimeOutDialog",value:function(){this.knowFlag=!1,this.tipDialog.setBtnName(),this.tipDialog.setContent("<p>您好，页面已超时，请返回上一页重新选择房间。</p>"),this.tipDialog.show()}},{key:"getRatePlanDataSuccess",value:function(){this.setRoomName(),this.setRoomListsBedTypes(),this.setRoomListsSmoking(),this.initLimit(),this.initExpense(),this.initSpecial(),this.handleCrediCard(),this.initInvoice(),this.initInsure(),this.initHoney(),this.couponContainer.length&&this.initCoupon(),this.setFinalConfirmPrice()}},{key:"setRoomListsBedTypes",value:function(){var e=this;this.roomLists.map(function(t){return t.setBedTypesEle(e.ratePlanData)})}},{key:"setRoomListsSmoking",value:function(){var e=this;this.roomLists.map(function(t){return t.setSmokingEle(e.ratePlanData)})}},{key:"setRoomName",value:function(){var e=this.ratePlanData.rate_plan.ota_room_type_pname;this.roomLists.map(function(t){return t.setRoomName(e)})}},{key:"handleCrediCard",value:function(){this.paytype=this.ratePlanData.rate_plan.pay_type,0===this.paytype?this.creditCardContainer.hide():2===this.paytype&&this.creditCardContainer.html("到酒店前台付款即可，现在无需支付或担保。提交订单即可完成预定。")}},{key:"setFinalConfirmPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.totalPrice;n=(n-e-i+t).toFixed(2),n=n>=0?n:"0.00",this.finalConfirmPriceElem.html(n)}},{key:"splitChildAndAdultNum",value:function(){var e=this.gParam,t=e.rooms.split(","),i=t.slice(1),n=i.length,a=t[0]+"成人";if(e.adult_number=parseInt(t[0]),e.child_number=n,e.childAge=i,n>1){a+=" + "+n+"儿童 ("+i.map(function(e){return e+"岁"}).join(", ")+")"}else 1===n&&(a+=" + 1儿童 ("+i[0]+"岁)");e.booking_number=a}},{key:"initRoomLists",value:function(){for(var e=this.gParam,t=this.roomLists,i=1;i<=e.room_num;i+=1){e.index=i;var n=new p.default(e);t.push(n)}delete e.index,delete e.booking_number}},{key:"initLimit",value:function(){var e=this.ratePlanData.rate_plan.booking_restriction;e&&e.length&&(this.limitContainer.show(),this.limit=new T.default(this.limitContainer,e))}},{key:"initContact",value:function(){this.contact=new m.default(this.gParam)}},{key:"initSpecial",value:function(){this.special=new y.default(this.gParam.can_input_chinese_name,this.isAllowSpecialNeeds,this.isAllowManSpecial,this.specialNeeds,this.arrivedEarly,this.arrivedLate)}},{key:"initExpense",value:function(){var e=this.gParam,t=this.expenseContainer,i=this.orderSide;this.expense=new C.default(this.ratePlanData.rate_plan,e,t,i)}},{key:"initCoupon",value:function(){var e=this.gParam,t=this.couponContainer;this.coupon=new _.default(this.ratePlanData.rate_plan,e,t),M.Event(this.coupon).on("couponClick",h.default.proxy(this.handleCouponClick,this))}},{key:"handleCouponClick",value:function(e){var t=this;this.setCouponNum(e);var i=this.honey,n=this.expense,a=!!i&&i.isHoneyChecked(),s=this.getTotalPrice(),o=!1;if(n.showTotalPriceLoading(),a){o=!0,n.showHoneyLoading();i.getHoneyNumPromise(s,o).then(function(){var e=t.getAmount(a);n.honeyShow(e),s=t.getTotalPrice(e),t.handleInsureModule(s,e)},function(){})}else i&&i.hasHoney()&&i.getHoneyNumPromise(s);o||this.handleInsureModule(s)}},{key:"setCouponNum",value:function(e){var t=0;this.couponNum=0,e.flag?(e.rate?(t=parseFloat((10-e.rate)/10)*parseFloat(this.totalPrice),t=t>e.maxPrice?e.maxPrice:t.toFixed(2)):t=e.price,this.couponNum=t,this.expense.couponShow(t)):this.expense.couponHide()}},{key:"getTotalPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.couponNum,i=this.totalPrice-t-e;return i<0?0:i}},{key:"initInsure",value:function(){var e=this.ratePlanData.rate_plan.cancellation.is_free,t=this.paytype,i=this.insureContainer,n=this.totalPrice;!e&&0===t&&"25545518"!==String(this.gParam.poi_id)||this.isTestUid()?(this.insure=new x.default(i,n),M.Event(this.insure).on("insureClick",h.default.proxy(this.handleInsureClick,this)),M.Event(this.insure).on("getInsureNumFirstSuccess",h.default.proxy(this.handleGetINFS,this))):i.hide()}},{key:"isTestUid",value:function(){return["44635961","90432267","34289712","17357527","39449889","85650490","1970753","5573554","702137","43239694","48581028","50266336","17744500","73765725","76818287","79642566","69718811","19515327","38043424","30059821","471194","53557961","17440830","82888663","63110120"].indexOf(this.gParam.uid)>-1}},{key:"handleInsureClick",value:function(){var e=this.insure,t=this.honey,i=this.expense,n=this.invoice,a=!!t&&t.isHoneyChecked(),s=e.isInsureChecked(),o=this.getAmount(a),r=0;s?(r=this.getInsureNum(s),i.insureShow(r),n.insureTextShow()):(i.insureHide(),n.insureTextHide()),this.setPriceWithCouponAndInsureAndHoney(r,o),i.cancelDomLinkWithInsure(s)}},{key:"getInsureNum",value:function(e){return e?this.insure.getInsureNum():0}},{key:"handleGetINFS",value:function(){this.insure.setIconCheckboxChecked()}},{key:"initHoney",value:function(){var e=this.honeyContainer,t=this.totalPrice;0===this.paytype?(this.honey=new P.default(e,t),M.Event(this.honey).on("honeyClick",h.default.proxy(this.handleHoneyClick,this))):e.hide()}},{key:"handleHoneyClick",value:function(){var e=this.honey,t=this.expense,i=e.isHoneyChecked(),n=this.getAmount(i),a=this.getTotalPrice(n);t.showTotalPriceLoading(),i?t.honeyShow(n):t.honeyHide(),this.handleInsureModule(a,n)}},{key:"getAmount",value:function(e){var t=this.honey;return t&&e?t.getAmount():0}},{key:"initInvoice",value:function(){var e=this.gParam,t=this.invoiceContainer,i=this.ratePlanData;this.invoice=new E.default(t,i.rate_plan.invoice_type,e.ota_type)}},{key:"handleInsureModule",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.insure,a=this.expense,s=this.insureContainer,o=0,r=!1;if(n)if(n.isInsureChecked())if(0===e)s.hide(),this.handleGetINFS(),a.insureHide();else{a.showInsureLoading(),r=!0,s.show();var u=n.getInsurePricePromise(e,r);u.then(function(){o=n.getInsureNum(),t.setPriceWithCouponAndInsureAndHoney(o,i),a.insureShow(o)},function(){})}else 0===e?s.hide():(s.show(),n.getInsurePricePromise(e));r||this.setPriceWithCouponAndInsureAndHoney(o,i)}},{key:"setPriceWithCouponAndInsureAndHoney",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.setFinalConfirmPrice(this.couponNum,e,t),this.expense.setTotalPrice(this.couponNum,e,t)}},{key:"bindEvents",value:function(){var e=this;this.extraContainer.on("mousemove",function(t){e.handleMouseMove(t)}).on("mouseout",function(){e.handleMouseOut()}),this.openHotelInsurePopupBtn.on("click",function(){e.openHotelInsurePopup()}),this.closeHotelInsurePopupBtn.on("click",function(){e.closeHotelInsurePopup()}),this.win.on("scroll",function(){e.handleWindowScroll()}),this.submitBtn.on("click",function(t){e.handleSubmitBtnClick(t)})}},{key:"openHotelInsurePopup",value:function(){this.hotelInsurePopup.removeClass("hide-popup")}},{key:"closeHotelInsurePopup",value:function(){this.hotelInsurePopup.addClass("hide-popup")}},{key:"handleMouseMove",value:function(e){var t=e.pageY-(0,h.default)(window).scrollTop(),i=e.pageX;this.extraTips.css({top:t,left:i}),this.extraTips.hasClass("show")||this.extraTips.addClass("show")}},{key:"handleMouseOut",value:function(){this.extraTips.removeClass("show")}},{key:"handleWindowScroll",value:function(){this.win.scrollTop()>=this.expenseContainerTop?this.orderSide.addClass("fixed"):this.orderSide.removeClass("fixed")}},{key:"handleSubmitBtnClick",value:function(e){var t=this;e.preventDefault();var i=window,n=i.canNormalCreateOrder,a=i.handleBindPhone;if(!n)return void a();if(this.endTime=(new Date).getTime(),this.endTime-this.startTime>this.timeStamp)return this.handleTimeOutDialog(),void(0,D.default)(this.gParam,"booking_app_error","service","create_order",null,null,"C0002");var o=this.getSubmitParam(),r=(0,s.default)(o);if(o&&!this.isSubmit){this.isSubmit=!0;var u=this.submitBtn.html();this.submitBtn.html('<span class="loading-text">订单提交中<span><div class="k-spinner">\n                <div class="k-bubble-1"></div>\n                <div class="k-bubble-2"></div>\n            </div>'),h.default.ajax({url:"/hotel/ajax_v2/bookingAppCreateOrder",type:"post",data:o,dataType:"json",timeout:1e4,context:this}).done(function(e){if(t.isSubmit=!1,e&&e.ret&&(e.data.order_id||e.data.error_code)){if(e.data.order_id&&e.data.v_code){var i=e.data,n=i.order_id,a=i.v_code,s=2===t.paytype?"http://www."+t.hostName+"/hotel_zx/hotel/success.php?sOrderId="+n+"&sVCode="+a+"&sOta="+t.gParam.ota:"https://zx."+t.hostName+"/go2pay.php?sOrderId="+n+"&sVCode="+a+"&sOta="+t.gParam.ota;window.location.href=s}if(e.data.error_code){var o=e.data,l=o.error_code,c=o.error_message;(0,D.default)(t.gParam,"booking_app_error","service","create_order",null,r,l,c),t.submitBtn.html(u),t.handlePriceExpiresDialog(c)}}}).fail(function(){t.isSubmit=!1,t.submitBtn.html(u),t.handlePriceExpiresDialog(),(0,D.default)(t.gParam,"booking_app_error","service","create_order",null,r,"C0001")})}}},{key:"getSubmitParam",value:function(){var e=this.roomLists,t=this.contact,i=this.special,n=this.invoice,a=this.coupon,s=this.gParam,o=this.insure,r=this.honey;if(e.some(function(e){return e.hasInputErrorName()||e.hasEmptyInput()}))return!1;if(t.hasInputError()||t.hasEmptyInput())return!1;if(i.hasInputError())return!1;if(n.getsNeedRec()&&n.getHasInputFiled()&&(n.hasInputError()||n.hasEmptyInput()))return!1;var u=this.getsRoomContacts(),l=this.getsExtPersons(),c=this.getsBedTypes(),d=this.getsSmoking(),p=this.getsRoom(),f=t.getsTrueName(),m=t.getsPhone(),v=m.sPhone,y=m.sPhoneEx,g=t.getsEmail(),_=i.getsSpecials(),k=i.getsLastCheckin(),C=i.getsUserNotice(),b=n.getsNeedRec(),x=n.getsInvoiceTitle(),I=n.getsInvoiceTitleType(),P=n.getsInvoiceItin(),$=n.getiInvoiceNeedDesc(),E=a?a.getCouponCode():"",w=this.ratePlanData,T=w.rate_plan,N=w.ota,S={sRoomContacts:u,sBedTypes:c,sSmoking:d,sRoom:p,sTrueName:f,sPhone:v,sPhoneEx:y,sEmail:g,sSpecials:_,sUserNotice:C,sNeedRec:b,sInvoiceTitle:x,sInvoiceTitleType:I,sInvoiceItin:P,iInvoiceNeedDesc:$,sCouponCode:E,sCOta:"youyu"===s.ota?"youyu":"zx",iHotelId:s.poi_id,iId:s.ota_hotel_id,iOtaType:s.ota_type,sCheckIn:s.check_date_in,sCheckOut:s.check_date_out,sCheckInNotice:N.check_in_notice,nSurcharge:T.tax_rate,sPerNightRate:T.per_night_rate,nNightAvgRate:T.night_avg_rate,nAllNightRate:T.night_total_rate,nTotalRate:T.total_rate,sRoomId:T.id,sTypeId:s.type_id,sRateKey:T.rate_key,sRoomName:T.name,sCancelValues:T.cancellation.details,sValueAdds:T.additional_services.join(","),sVKey:T.vkey,sExtInfo:h.default.extend({},T.ext_info,{sExtPersons:l}),iOTAPayType:T.pay_type,sBreakfast:T.breakfast,sMfwRtid:T.mfw_rt_id,sOtaRtName:T.ota_rt_name,sTypeName:s.type_name};return""!==k&&"不确定到店时间"!==k&&(S.sSubSpecials={},S.sSubSpecials.LATE_CHECKIN=k),o&&o.isInsureChecked()&&(S.nInsureSkuId=o.getInsureId(),S.nPricePp=this.getPricePp(),S.nInsurePrice=this.insure.getInsureNum()),S.iUid=s.uid||"",r&&r.isHoneyChecked()&&(S.nHoneySpend=r.getSpend(),S.nHoneyAmount=r.getAmount()),S}},{key:"getsRoomContacts",value:function(){return this.roomLists.map(function(e){return e.getsRoomContacts()})}},{key:"getsExtPersons",value:function(){return(0,s.default)(this.roomLists.map(function(e){return e.getsExtPersons()}))}},{key:"getsBedTypes",value:function(){var e=this.roomLists.map(function(e){return e.getBedTypeId()});return""===e[0]?[]:e}},{key:"getsSmoking",value:function(){var e=this.roomLists.map(function(e){return e.getSmokingId()});return""===e[0]?[]:e}},{key:"getsRoom",value:function(){var e=this;return this.roomLists.map(function(){return e.gParam.rooms})}},{key:"getPricePp",value:function(){return parseFloat(this.wrapper.find(".price_pp").html())/100}}]),e}())).init()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),o=i(2),r=n(o),u=i(0),l=n(u),c=function(){function e(t,i,n){(0,s.default)(this,e),this.data=t,this.dataLen=this.data.length,this.$parentEle=this.dataLen>1?i:n,this.init()}return(0,r.default)(e,[{key:"init",value:function(){this.createDom(),this.dataLen>1&&this.bindEvents()}},{key:"createDom",value:function(){this.dataLen>1?(this.$element=(0,l.default)('<div class="ui-select"><input type=\'hidden\' name="select" data-id=\''+this.data[0].id+'\' /><div class="trigger"><em class="name">'+this.data[0].name+'</em><i></i></div><ul class="sel-bd"></ul></div>'),this.$triggerELem=this.$element.find(".trigger"),this.$name=this.$triggerELem.find(".name"),this.$selectListContainer=this.$element.find(".sel-bd"),this.createListDom()):1===this.dataLen&&(this.$element=(0,l.default)('<span class="ui-plain"><em>'+this.data[0].name+"</em><input type='hidden' name=\"select\" data-id='"+this.data[0].id+"' /></span>")),this.$parentEle.append(this.$element),this.$parentEle.addClass("show"),this.$hiddenInput=this.$element.find('[name="select"]')}},{key:"createListDom",value:function(){var e=this.data.map(function(e){return"<li data-id='"+e.id+"'>"+e.name+"</li>"}).join("");this.$selectListContainer.html(e)}},{key:"bindEvents",value:function(){var e=this;(0,l.default)(document.body).on("click",function(){e.handleDocumentClick()}),this.$triggerELem.on("click",function(t){e.handleTriggerElemClick(t)}),this.$selectListContainer.on("click","li",function(t){e.handleSelectListClick(t)})}},{key:"handleDocumentClick",value:function(){this.$element.hasClass("open")&&this.hideSelect()}},{key:"handleTriggerElemClick",value:function(e){e.stopPropagation(),this.$element.toggleClass("open")}},{key:"handleSelectListClick",value:function(e){e.stopPropagation(),this.target=(0,l.default)(e.currentTarget),this.$name.html(this.target.html()),this.$hiddenInput.attr("data-id",this.target.attr("data-id")),this.hideSelect()}},{key:"hideSelect",value:function(){this.$element.removeClass("open")}},{key:"getId",value:function(){return this.$hiddenInput.attr("data-id")}}]),e}();t.default=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),o=i(2),r=n(o),u=i(0),l=n(u),c=function(){function e(t,i,n){(0,s.default)(this,e),this.data=["不确定到店时间","06:00-07:00","07:00-08:00","08:00-09:00","09:00-10:00","10:00-11:00","11:00-12:00","12:00-13:00","13:00-14:00","14:00-15:00","15:00-16:00","16:00-17:00","17:00-18:00","18:00-19:00","19:00-20:00","20:00-21:00","21:00-22:00","22:00-23:00","23:00-24:00","次日 00:00-01:00","次日 01:00-02:00","次日 02:00-03:00","次日 03:00-04:00","次日 04:00-05:00","次日 05:00-06:00"],this.$parentEle=n,this.arrivedEarly=t,this.arrivedLate=i,this.selected=!1,this.$tips=(0,l.default)("#_j_arrive_time"),this.init(),t?(this.arrivedLate=i||"24:00",this.$tips.text("*酒店办理入住时间为"+this.arrivedEarly+"-"+this.arrivedLate+"，请您做好出行安排。")):this.$tips.text("")}return(0,r.default)(e,[{key:"init",value:function(){this.createDom(),this.bindEvents()}},{key:"createDom",value:function(){this.$element=(0,l.default)('<div class="ui-select ui-select-long">\n                                <input type=\'hidden\' name="select" data-id="" />\n                                <div class="trigger"><em class="name">预计到店时间</em><i></i></div>\n                                <ul class="sel-bd ui-hide"></ul>\n                            </div>'),this.$triggerELem=this.$element.find(".trigger"),this.$name=this.$triggerELem.find(".name"),this.$selectListContainer=this.$element.find(".sel-bd"),this.createListDom(),this.$parentEle.append(this.$element),this.$parentEle.addClass("show"),this.$selectbd=this.$element.find(".sel-bd"),this.$hiddenInput=this.$element.find('[name="select"]')}},{key:"createListDom",value:function(){var e=this.data.map(function(e){return"<li data-id='"+e+"'>"+e+"</li>"}).join("");this.$selectListContainer.html(e)}},{key:"bindEvents",value:function(){var e=this;(0,l.default)(document.body).on("click",function(){e.handleDocumentClick()}),this.$triggerELem.on("click",function(t){e.handleTriggerElemClick(t)}),this.$selectListContainer.on("click","li",function(t){e.handleSelectListClick(t)})}},{key:"handleDocumentClick",value:function(){this.$element.hasClass("open")&&this.hideSelect()}},{key:"handleTriggerElemClick",value:function(e){var t=this;e.stopPropagation(),this.$element.hasClass("open")?(setTimeout(function(){return t.$selectbd.toggleClass("ui-hide")},300),this.$element.toggleClass("open")):(this.$selectbd.toggleClass("ui-hide"),setTimeout(function(){return t.$element.toggleClass("open")},0))}},{key:"handleSelectListClick",value:function(e){e.stopPropagation(),this.target=(0,l.default)(e.currentTarget);var t="",i=this.arrivedEarly,n=this.arrivedLate,a=this.target.data("id"),s=a.indexOf("次日")>-1,o=s?"24:00":a.substr(0,5),r=s?"24:00":a.substr(6,5);this.$name.html(a),this.$hiddenInput.attr("data-id",a),this.hideSelect(),i&&(t="不确定到店时间"===a?"*酒店办理入住时间为"+i+"-"+n+"，请您做好出行安排。":r<=i?"*您的到达时间早于酒店的最早入住时间"+i+"，您可以先在前台办理手续，然后在规定时间内入住。":o>=n?"*您的到达时间晚于酒店的最晚入住时间"+n+"，酒店可能无法为您留房，请提前与酒店联系确认。":"*酒店办理入住时间为"+i+"-"+n+"，请您做好出行安排。"),this.$tips.text(t),this.selected=!0,this.$name.css("color","#000")}},{key:"hideSelect",value:function(){var e=this;this.$element.removeClass("open"),setTimeout(function(){return e.$selectbd.addClass("ui-hide")},300)}},{key:"getId",value:function(){return this.$hiddenInput.attr("data-id")}}]),e}();t.default=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(29),s=n(a),o=i(1),r=n(o),u=i(2),l=n(u),c=i(0),h=n(c),d=function(){function e(){(0,r.default)(this,e),this.init(),this.selected=!1}return(0,l.default)(e,[{key:"init",value:function(){this.createDom(),this.bindEvent()}},{key:"createDom",value:function(){this.$element=(0,h.default)('\n            <div class="popup-layer hide">\n              <div class="popup-container popup-bank-container">\n                <div class="pop-hd">选择手机号国家码</div>\n                <div class="pop-bd pop-bank">\n                  <div class="bank-nav">\n                    <a href="#hot" class="litter-item hot-bank">热门</a>\n                  </div>\n                  <div class="bank-box">\n                    <ul class="bank-list"></ul>\n                  </div>\n                </div>\n                <div class="pop-ft"><a class="close" href="javascript:void(0);">关闭</a></div>\n              </div>\n            </div>    \n        '),this.$bankNav=this.$element.find(".bank-nav"),this.renderTab(),this.$bankList=this.$element.find(".bank-list"),this.$closeBtn=this.$element.find(".close"),this.renderBankTypes(),this.$body=(0,h.default)(document.body),this.$body.append(this.$element)}},{key:"renderTab",value:function(){var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map(function(e){return'<a href="#litter-'+e+'" class="litter-item disabled item '+e+'" key="'+e+'">'+e+"</a>"});this.$bankNav.append(e.join(""))}},{key:"bindEvent",value:function(){var e=this;this.$closeBtn.on("click",function(){return e.handleCloseBtnClick()}),this.$bankList.on("click","li[data-id]",function(t){return e.handleBankListClick(t)})}},{key:"handleCloseBtnClick",value:function(){this.hide()}},{key:"handleBankListClick",value:function(e){var t=(0,h.default)(e.currentTarget),i=t.data("id");this.selected=!0,this.hide(),M.Event(this).fire("bankListClick",{id:i})}},{key:"isSelected",value:function(){return this.selected}},{key:"hide",value:function(){this.$element.addClass("hide")}},{key:"show",value:function(){this.$element.removeClass("hide")}},{key:"renderBankTypes",value:function(){var e=[{name:"中国大陆86",id:86},{name:"中国香港852",id:852},{name:"中国澳门853",id:853},{name:"中国台湾886",id:886},{name:"泰国66",id:66},{name:"日本81",id:81},{name:"马来西亚60",id:60}],t={A:[{name:"阿尔巴尼亚355",id:355},{name:"阿尔及利亚213",id:213},{name:"阿富汗93",id:93},{name:"阿根廷54",id:54},{name:"爱尔兰353",id:353},{name:"埃及20",id:20},{name:"埃塞俄比亚251",id:251},{name:"爱沙尼亚372",id:372},{name:"阿联酋971",id:971},{name:"阿鲁巴(荷)297",id:297},{name:"阿曼968",id:968},{name:"安道尔376",id:376},{name:"安哥拉244",id:244},{name:"澳大利亚61",id:61},{name:"奥地利43",id:43},{name:"阿塞拜疆994",id:994},{name:"阿森松岛247",id:247}],B:[{name:"巴布亚新几内亚675",id:675},{name:"白俄罗斯375",id:375},{name:"巴基斯坦92",id:92},{name:"巴拉圭595",id:595},{name:"巴勒斯坦970",id:970},{name:"巴林973",id:973},{name:"巴拿马507",id:507},{name:"保加利亚359",id:359},{name:"巴西55",id:55},{name:"贝宁229",id:229},{name:"比利时32",id:32},{name:"冰岛354",id:354},{name:"博茨瓦纳267",id:267},{name:"波黑387",id:387},{name:"波兰48",id:48},{name:"玻利维亚591",id:591},{name:"伯利兹501",id:501},{name:"不丹975",id:975},{name:"布基纳法索226",id:226},{name:"布隆迪257",id:257}],C:[{name:"赤道几内亚240",id:240}],D:[{name:"丹麦45",id:45},{name:"德国49",id:49},{name:"迪戈加西亚岛246",id:246},{name:"东帝汶670",id:670},{name:"多哥228",id:228}],E:[{name:"厄瓜多尔593",id:593},{name:"厄立特里亚291",id:291},{name:"俄罗斯7",id:7}],F:[{name:"法国33",id:33},{name:"法罗群岛(丹)298",id:298},{name:"梵蒂冈379",id:379},{name:"法属玻利尼西亚689",id:689},{name:"法属圭亚那594",id:594},{name:"斐济群岛679",id:679},{name:"菲律宾63",id:63},{name:"芬兰358",id:358},{name:"佛得角238",id:238},{name:"福克兰群岛（马尔维纳斯群岛）500",id:500}],G:[{name:"冈比亚220",id:220},{name:"刚果(布)242",id:242},{name:"刚果民主(金)243",id:243},{name:"格陵兰(丹)299",id:299},{name:"格鲁吉亚995",id:995},{name:"哥伦比亚57",id:57},{name:"哥斯达黎加506",id:506},{name:"瓜德罗普(法)590",id:590},{name:"古巴53",id:53},{name:"圭亚那592",id:592}],H:[{name:"海地509",id:509},{name:"海事卫星电话870",id:870},{name:"韩国82",id:82},{name:"黑山382",id:382},{name:"荷兰31",id:31},{name:"荷属安第列斯599",id:599},{name:"洪都拉斯504",id:504}],J:[{name:"加纳233",id:233},{name:"柬埔寨855",id:855},{name:"加蓬241",id:241},{name:"吉布提253",id:253},{name:"捷克420",id:420},{name:"吉尔吉斯斯坦996",id:996},{name:"基里巴斯686",id:686},{name:"津巴布韦263",id:263},{name:"几内亚224",id:224},{name:"几内亚比绍245",id:245}],K:[{name:"喀麦隆237",id:237},{name:"克罗地亚385",id:385},{name:"肯尼亚254",id:254},{name:"科特迪瓦225",id:225},{name:"科威特965",id:965},{name:"库克群岛(新)682",id:682}],L:[{name:"莱索托266",id:266},{name:"老挝856",id:856},{name:"拉脱维亚371",id:371},{name:"黎巴嫩961",id:961},{name:"利比里亚231",id:231},{name:"利比亚218",id:218},{name:"列支敦士登423",id:423},{name:"立陶宛370",id:370},{name:"留尼汪(法)262",id:262},{name:"罗马尼亚40",id:40},{name:"卢森堡352",id:352},{name:"卢旺达250",id:250}],M:[{name:"马达加斯加261",id:261},{name:"马尔代夫960",id:960},{name:"马耳他356",id:356},{name:"马来西亚60",id:60},{name:"马拉维265",id:265},{name:"马里223",id:223},{name:"毛里求斯230",id:230},{name:"毛里塔尼亚222",id:222},{name:"马其顿389",id:389},{name:"马绍尔群岛共和国692",id:692},{name:"马提尼克(法)596",id:596},{name:"马约特岛269",id:269},{name:"美国1",id:1},{name:"蒙古976",id:976},{name:"孟加拉880",id:880},{name:"缅甸95",id:95},{name:"密克罗尼西亚联邦691",id:691},{name:"秘鲁51",id:51},{name:"摩尔多瓦373",id:373},{name:"摩洛哥212",id:212},{name:"摩纳哥377",id:377},{name:"莫桑比克258",id:258},{name:"墨西哥52",id:52}],N:[{name:"纳米比亚264",id:264},{name:"南非27",id:27},{name:"瑙鲁674",id:674},{name:"尼泊尔977",id:977},{name:"尼加拉瓜505",id:505},{name:"尼日尔227",id:227},{name:"尼日利亚234",id:234},{name:"纽埃(新)683",id:683},{name:"挪威47",id:47}],P:[{name:"帕劳680",id:680},{name:"葡萄牙351",id:351}],Q:[{name:"卡塔尔974",id:974}],R:[{name:"日本81",id:81},{name:"瑞典46",id:46},{name:"瑞士41",id:41}],S:[{name:"萨尔瓦多503",id:503},{name:"塞尔维亚381",id:381},{name:"塞拉利昂232",id:232},{name:"塞内加尔221",id:221},{name:"塞浦路斯357",id:357},{name:"塞舌尔248",id:248},{name:"萨摩亚685",id:685},{name:"沙特966",id:966},{name:"圣多美和普林西比239",id:239},{name:"圣卢西亚1758",id:1758},{name:"圣马力诺378",id:378},{name:"圣皮埃尔和密克隆(法)508",id:508},{name:"斯里兰卡94",id:94},{name:"斯洛伐克421",id:421},{name:"斯洛文尼亚386",id:386},{name:"斯威士兰268",id:268},{name:"苏丹249",id:249},{name:"苏里南597",id:597},{name:"所罗门群岛677",id:677},{name:"索马里252",id:252}],T:[{name:"泰国66",id:66},{name:"塔吉克斯坦992",id:992},{name:"汤加676",id:676},{name:"坦桑尼亚255",id:255},{name:"特里斯坦-达库尼亚群岛290",id:290},{name:"土耳其90",id:90},{name:"土库曼斯坦993",id:993},{name:"突尼斯216",id:216},{name:"托克劳(新)690",id:690},{name:"图瓦卢688",id:688}],W:[{name:"瓦利斯群岛和富图纳群岛681",id:681},{name:"瓦努阿图678",id:678},{name:"危地马拉502",id:502},{name:"委内瑞拉58",id:58},{name:"文莱673",id:673},{name:"乌干达256",id:256},{name:"乌克兰380",id:380},{name:"乌拉圭598",id:598},{name:"乌兹别克斯坦998",id:998}],X:[{name:"西班牙34",id:34},{name:"希腊30",id:30},{name:"新加坡65",id:65},{name:"新喀里多尼亚(法)687",id:687},{name:"新西兰64",id:64},{name:"匈牙利36",id:36},{name:"叙利亚963",id:963}],Y:[{name:"亚美尼亚374",id:374},{name:"也门967",id:967},{name:"意大利39",id:39},{name:"伊拉克964",id:964},{name:"伊朗98",id:98},{name:"印度91",id:91},{name:"英国44",id:44},{name:"印尼62",id:62},{name:"以色列972",id:972},{name:"约旦962",id:962},{name:"越南84",id:84}],Z:[{name:"赞比亚260",id:260},{name:"乍得235",id:235},{name:"朝鲜850",id:850},{name:"直布罗陀(英)350",id:350},{name:"智利56",id:56},{name:"中非236",id:236},{name:"中国澳门853",id:853},{name:"中国大陆86",id:86},{name:"中国台湾886",id:886},{name:"中国香港852",id:852}]};this.$bankList.html(""),this.randerHotBankTypes(e),this.randerNormalBankTypes(t)}},{key:"randerHotBankTypes",value:function(e){var t=[];t.push('<li class="bank-group" id="hot">热门</li>'),t.push(this.renderBankLists(e)),this.$bankList.append(t.join(""))}},{key:"randerNormalBankTypes",value:function(e){var t=this;this.renderAbledTab(e);var i=[];(0,s.default)(e).forEach(function(n){i.push('<li class="bank-group" id="litter-'+n+'">'+n+"</li>"),i.push(t.renderBankLists(e[n]))}),this.$bankList.append(i.join(""))}},{key:"renderBankLists",value:function(e){var t=[];return e.forEach(function(e){return t.push('<li data-id="'+e.id+'" data-name="'+e.name+'"><a class="bank-item">'+e.name+"</a></li>")}),t.join("")}},{key:"renderAbledTab",value:function(e){var t=this;this.$bankNav.find(".item").addClass("disabled"),(0,s.default)(e).forEach(function(e){t.$bankNav.find("."+e).removeClass("disabled")})}}]),e}();t.default=d},function(e,t,i){e.exports={default:i(63),__esModule:!0}},function(e,t,i){var n=i(5),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},function(e,t,i){i(92);var n=i(5).Object;e.exports=function(e,t,i){return n.defineProperty(e,t,i)}},function(e,t,i){i(93),e.exports=i(5).Object.keys},function(e,t,i){i(94),i(96),i(99),i(95),i(97),i(98),e.exports=i(5).Promise},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){var n=i(27),a=i(43),s=i(88);e.exports=function(e){return function(t,i,o){var r,u=n(t),l=a(u.length),c=s(o,l);if(e&&i!=i){for(;l>c;)if((r=u[c++])!=r)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===i)return e||c||0;return!e&&-1}}},function(e,t,i){var n=i(16),a=i(74),s=i(73),o=i(6),r=i(43),u=i(90),l={},c={},t=e.exports=function(e,t,i,h,d){var p,f,m,v,y=d?function(){return e}:u(e),g=n(i,h,t?2:1),_=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(s(y)){for(p=r(e.length);p>_;_++)if((v=t?g(o(f=e[_])[0],f[1]):g(e[_]))===l||v===c)return v}else for(m=y.call(e);!(f=m.next()).done;)if((v=a(m,g,f.value,t))===l||v===c)return v};t.BREAK=l,t.RETURN=c},function(e,t,i){e.exports=!i(7)&&!i(22)(function(){return 7!=Object.defineProperty(i(21)("div"),"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){var n=i(15);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,i){var n=i(11),a=i(4)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[a]===e)}},function(e,t,i){var n=i(6);e.exports=function(e,t,i,a){try{return a?t(n(i)[0],i[1]):t(i)}catch(t){var s=e.return;throw void 0!==s&&n(s.call(e)),t}}},function(e,t,i){"use strict";var n=i(79),a=i(39),s=i(24),o={};i(9)(o,i(4)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(o,{next:a(1,i)}),s(e,t+" Iterator")}},function(e,t,i){var n=i(4)("iterator"),a=!1;try{var s=[7][n]();s.return=function(){a=!0},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var i=!1;try{var s=[7],o=s[n]();o.next=function(){return{done:i=!0}},s[n]=function(){return o},e(s)}catch(e){}return i}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){var n=i(3),a=i(42).set,s=n.MutationObserver||n.WebKitMutationObserver,o=n.process,r=n.Promise,u="process"==i(15)(o);e.exports=function(){var e,t,i,l=function(){var n,a;for(u&&(n=o.domain)&&n.exit();e;){a=e.fn,e=e.next;try{a()}catch(n){throw e?i():t=void 0,n}}t=void 0,n&&n.enter()};if(u)i=function(){o.nextTick(l)};else if(!s||n.navigator&&n.navigator.standalone)if(r&&r.resolve){var c=r.resolve();i=function(){c.then(l)}}else i=function(){a.call(n,l)};else{var h=!0,d=document.createTextNode("");new s(l).observe(d,{characterData:!0}),i=function(){d.data=h=!h}}return function(n){var a={fn:n,next:void 0};t&&(t.next=a),e||(e=a,i()),t=a}}},function(e,t,i){var n=i(6),a=i(80),s=i(32),o=i(25)("IE_PROTO"),r=function(){},u=function(){var e,t=i(21)("iframe"),n=s.length;for(t.style.display="none",i(33).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[s[n]];return u()};e.exports=Object.create||function(e,t){var i;return null!==e?(r.prototype=n(e),i=new r,r.prototype=null,i[o]=e):i=u(),void 0===t?i:a(i,t)}},function(e,t,i){var n=i(12),a=i(6),s=i(36);e.exports=i(7)?Object.defineProperties:function(e,t){a(e);for(var i,o=s(t),r=o.length,u=0;r>u;)n.f(e,i=o[u++],t[i]);return e}},function(e,t,i){var n=i(17),a=i(44),s=i(25)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,i){var n=i(17),a=i(27),s=i(68)(!1),o=i(25)("IE_PROTO");e.exports=function(e,t){var i,r=a(e),u=0,l=[];for(i in r)i!=o&&n(r,i)&&l.push(i);for(;t.length>u;)n(r,i=t[u++])&&(~s(l,i)||l.push(i));return l}},function(e,t,i){var n=i(8),a=i(5),s=i(22);e.exports=function(e,t){var i=(a.Object||{})[e]||Object[e],o={};o[e]=t(i),n(n.S+n.F*s(function(){i(1)}),"Object",o)}},function(e,t,i){var n=i(9);e.exports=function(e,t,i){for(var a in t)i&&e[a]?e[a]=t[a]:n(e,a,t[a]);return e}},function(e,t,i){e.exports=i(9)},function(e,t,i){"use strict";var n=i(3),a=i(5),s=i(12),o=i(7),r=i(4)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:n[e];o&&t&&!t[r]&&s.f(t,r,{configurable:!0,get:function(){return this}})}},function(e,t,i){var n=i(26),a=i(20);e.exports=function(e){return function(t,i){var s,o,r=String(a(t)),u=n(i),l=r.length;return u<0||u>=l?e?"":void 0:(s=r.charCodeAt(u),s<55296||s>56319||u+1===l||(o=r.charCodeAt(u+1))<56320||o>57343?e?r.charAt(u):s:e?r.slice(u,u+2):o-56320+(s-55296<<10)+65536)}}},function(e,t,i){var n=i(26),a=Math.max,s=Math.min;e.exports=function(e,t){return e=n(e),e<0?a(e+t,0):s(e,t)}},function(e,t,i){var n=i(10);e.exports=function(e,t){if(!n(e))return e;var i,a;if(t&&"function"==typeof(i=e.toString)&&!n(a=i.call(e)))return a;if("function"==typeof(i=e.valueOf)&&!n(a=i.call(e)))return a;if(!t&&"function"==typeof(i=e.toString)&&!n(a=i.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,i){var n=i(31),a=i(4)("iterator"),s=i(11);e.exports=i(5).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||s[n(e)]}},function(e,t,i){"use strict";var n=i(66),a=i(77),s=i(11),o=i(27);e.exports=i(34)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,a(1)):"keys"==t?a(0,i):"values"==t?a(0,e[i]):a(0,[i,e[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(e,t,i){var n=i(8);n(n.S+n.F*!i(7),"Object",{defineProperty:i(12).f})},function(e,t,i){var n=i(44),a=i(36);i(83)("keys",function(){return function(e){return a(n(e))}})},function(e,t){},function(e,t,i){"use strict";var n,a,s,o,r=i(35),u=i(3),l=i(16),c=i(31),h=i(8),d=i(10),p=i(14),f=i(67),m=i(69),v=i(41),y=i(42).set,g=i(78)(),_=i(23),k=i(37),C=i(38),b=u.TypeError,x=u.process,I=u.Promise,P="process"==c(x),$=function(){},E=a=_.f,w=!!function(){try{var e=I.resolve(1),t=(e.constructor={})[i(4)("species")]=function(e){e($,$)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then($)instanceof t}catch(e){}}(),T=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var i=e._c;g(function(){for(var n=e._v,a=1==e._s,s=0;i.length>s;)!function(t){var i,s,o=a?t.ok:t.fail,r=t.resolve,u=t.reject,l=t.domain;try{o?(a||(2==e._h&&D(e),e._h=1),!0===o?i=n:(l&&l.enter(),i=o(n),l&&l.exit()),i===t.promise?u(b("Promise-chain cycle")):(s=T(i))?s.call(i,r,u):r(i)):u(n)}catch(e){u(e)}}(i[s++]);e._c=[],e._n=!1,t&&!e._h&&S(e)})}},S=function(e){y.call(u,function(){var t,i,n,a=e._v,s=L(e);if(s&&(t=k(function(){P?x.emit("unhandledRejection",a,e):(i=u.onunhandledrejection)?i({promise:e,reason:a}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",a)}),e._h=P||L(e)?2:1),e._a=void 0,s&&t.e)throw t.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){y.call(u,function(){var t;P?x.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},j=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},M=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw b("Promise can't be resolved itself");(t=T(e))?g(function(){var n={_w:i,_d:!1};try{t.call(e,l(M,n,1),l(j,n,1))}catch(e){j.call(n,e)}}):(i._v=e,i._s=1,N(i,!1))}catch(e){j.call({_w:i,_d:!1},e)}}};w||(I=function(e){f(this,I,"Promise","_h"),p(e),n.call(this);try{e(l(M,this,1),l(j,this,1))}catch(e){j.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(84)(I.prototype,{then:function(e,t){var i=E(v(this,I));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=P?x.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&N(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new n;this.promise=e,this.resolve=l(M,e,1),this.reject=l(j,e,1)},_.f=E=function(e){return e===I||e===o?new s(e):a(e)}),h(h.G+h.W+h.F*!w,{Promise:I}),i(24)(I,"Promise"),i(86)("Promise"),o=i(5).Promise,h(h.S+h.F*!w,"Promise",{reject:function(e){var t=E(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(r||!w),"Promise",{resolve:function(e){return C(r&&this===o?I:this,e)}}),h(h.S+h.F*!(w&&i(76)(function(e){I.all(e).catch($)})),"Promise",{all:function(e){var t=this,i=E(t),n=i.resolve,a=i.reject,s=k(function(){var i=[],s=0,o=1;m(e,!1,function(e){var r=s++,u=!1;i.push(void 0),o++,t.resolve(e).then(function(e){u||(u=!0,i[r]=e,--o||n(i))},a)}),--o||n(i)});return s.e&&a(s.v),i.promise},race:function(e){var t=this,i=E(t),n=i.reject,a=k(function(){m(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return a.e&&n(a.v),i.promise}})},function(e,t,i){"use strict";var n=i(87)(!0);i(34)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){"use strict";var n=i(8),a=i(5),s=i(3),o=i(41),r=i(38);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,a.Promise||s.Promise),i="function"==typeof e;return this.then(i?function(i){return r(t,e()).then(function(){return i})}:e,i?function(i){return r(t,e()).then(function(){throw i})}:e)}})},function(e,t,i){"use strict";var n=i(8),a=i(23),s=i(37);n(n.S,"Promise",{try:function(e){var t=a.f(this),i=s(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})},function(e,t,i){i(91);for(var n=i(3),a=i(9),s=i(11),o=i(4)("toStringTag"),r="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<r.length;u++){var l=r[u],c=n[l],h=c&&c.prototype;h&&!h[o]&&a(h,o,l),s[l]=s.Array}}]);